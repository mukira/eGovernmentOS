{"version":3,"file":"options-Bn_vWkVM.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../../node_modules/lucide-react/dist/esm/icons/earth.js","../../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../../node_modules/lucide-react/dist/esm/icons/menu.js","../../../node_modules/lucide-react/dist/esm/icons/plug-zap.js","../../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../../node_modules/lucide-react/dist/esm/icons/server.js","../../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../../node_modules/lucide-react/dist/esm/icons/wrench.js","../../../node_modules/zod/v4/classic/compat.js","../../../node_modules/@radix-ui/react-alert-dialog/node_modules/@radix-ui/react-slot/dist/index.mjs","../../../node_modules/@radix-ui/react-alert-dialog/dist/index.mjs","../../../components/ui/alert-dialog.tsx","../../../lib/llm-providers/testProvider.ts","../../../components/ui/badge.tsx","../../../entrypoints/options/ai-settings/ProviderCard.tsx","../../../entrypoints/options/ai-settings/ConfiguredProvidersList.tsx","../../../node_modules/@radix-ui/number/dist/index.mjs","../../../node_modules/@radix-ui/react-select/node_modules/@radix-ui/react-slot/dist/index.mjs","../../../node_modules/@radix-ui/react-select/dist/index.mjs","../../../components/ui/select.tsx","../../../entrypoints/options/ai-settings/LlmProvidersHeader.tsx","../../../node_modules/react-hook-form/dist/index.esm.mjs","../../../node_modules/@hookform/resolvers/dist/resolvers.mjs","../../../node_modules/@hookform/resolvers/zod/dist/zod.mjs","../../../components/ui/form.tsx","../../../lib/llm-providers/providerTemplates.ts","../../../entrypoints/options/ai-settings/models.ts","../../../entrypoints/options/ai-settings/NewProviderDialog.tsx","../../../entrypoints/options/ai-settings/ProviderTemplateCard.tsx","../../../entrypoints/options/ai-settings/ProviderTemplatesSection.tsx","../../../entrypoints/options/ai-settings/AISettingsPage.tsx","../../../components/ui/textarea.tsx","../../../entrypoints/options/connect-mcp/AddCustomMCPDialog.tsx","../../../entrypoints/options/connect-mcp/AddManagedMCPDialog.tsx","../../../entrypoints/options/connect-mcp/AvailableManagedServers.tsx","../../../node_modules/swr/dist/mutation/index.mjs","../../../entrypoints/options/connect-mcp/useAddManagedServer.tsx","../../../entrypoints/options/connect-mcp/useGetMCPServersList.tsx","../../../entrypoints/options/connect-mcp/useGetUserMCPIntegrations.tsx","../../../entrypoints/options/connect-mcp/useRemoveManagedServer.tsx","../../../entrypoints/options/connect-mcp/ConnectMCP.tsx","../../../entrypoints/options/layout/DashboardLayout.tsx","../../../lib/llm-hub/storage.ts","../../../lib/llm-hub/useLlmHubProviders.ts","../../../entrypoints/options/llm-hub/AddHubProviderDialog.tsx","../../../entrypoints/options/llm-hub/HubProviderRow.tsx","../../../entrypoints/options/llm-hub/HubProvidersList.tsx","../../../entrypoints/options/llm-hub/LlmHubHeader.tsx","../../../entrypoints/options/llm-hub/LlmHubPage.tsx","../../../lib/messaging/server/serverMessages.ts","../../../entrypoints/options/mcp-settings/MCPServerHeader.tsx","../../../entrypoints/options/mcp-settings/MCPToolsSection.tsx","../../../components/ui/alert.tsx","../../../node_modules/@radix-ui/react-switch/dist/index.mjs","../../../components/ui/switch.tsx","../../../entrypoints/options/mcp-settings/ServerSettingsCard.tsx","../../../entrypoints/options/mcp-settings/MCPSettingsPage.tsx","../../../entrypoints/options/App.tsx","../../../entrypoints/options/main.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode);\n\nexport { __iconNode, ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.54 15H17a2 2 0 0 0-2 2v4.54\", key: \"1djwo0\" }],\n  [\n    \"path\",\n    {\n      d: \"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17\",\n      key: \"1tzkfa\"\n    }\n  ],\n  [\"path\", { d: \"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05\", key: \"14pb5j\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Earth = createLucideIcon(\"earth\", __iconNode);\n\nexport { __iconNode, Earth as default };\n//# sourceMappingURL=earth.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n];\nconst ExternalLink = createLucideIcon(\"external-link\", __iconNode);\n\nexport { __iconNode, ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 5h16\", key: \"1tepv9\" }],\n  [\"path\", { d: \"M4 12h16\", key: \"1lakjw\" }],\n  [\"path\", { d: \"M4 19h16\", key: \"1djgab\" }]\n];\nconst Menu = createLucideIcon(\"menu\", __iconNode);\n\nexport { __iconNode, Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z\", key: \"goz73y\" }\n  ],\n  [\"path\", { d: \"m2 22 3-3\", key: \"19mgm9\" }],\n  [\"path\", { d: \"M7.5 13.5 10 11\", key: \"7xgeeb\" }],\n  [\"path\", { d: \"M10.5 16.5 13 14\", key: \"10btkg\" }],\n  [\"path\", { d: \"m18 3-4 4h6l-4 4\", key: \"16psg9\" }]\n];\nconst PlugZap = createLucideIcon(\"plug-zap\", __iconNode);\n\nexport { __iconNode, PlugZap as default };\n//# sourceMappingURL=plug-zap.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"2\", rx: \"2\", ry: \"2\", key: \"ngkwjq\" }],\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"14\", rx: \"2\", ry: \"2\", key: \"iecqi9\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"6\", y2: \"6\", key: \"16zg32\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"18\", y2: \"18\", key: \"nzw8ys\" }]\n];\nconst Server = createLucideIcon(\"server\", __iconNode);\n\nexport { __iconNode, Server as default };\n//# sourceMappingURL=server.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 11v6\", key: \"nco0om\" }],\n  [\"path\", { d: \"M14 11v6\", key: \"outv1u\" }],\n  [\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\", key: \"miytrc\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\", key: \"e791ji\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\n\nexport { __iconNode, Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z\",\n      key: \"1ngwbx\"\n    }\n  ]\n];\nconst Wrench = createLucideIcon(\"wrench\", __iconNode);\n\nexport { __iconNode, Wrench as default };\n//# sourceMappingURL=wrench.js.map\n","// Zod 3 compat layer\nimport * as core from \"../core/index.js\";\n/** @deprecated Use the raw string literal codes instead, e.g. \"invalid_type\". */\nexport const ZodIssueCode = {\n    invalid_type: \"invalid_type\",\n    too_big: \"too_big\",\n    too_small: \"too_small\",\n    invalid_format: \"invalid_format\",\n    not_multiple_of: \"not_multiple_of\",\n    unrecognized_keys: \"unrecognized_keys\",\n    invalid_union: \"invalid_union\",\n    invalid_key: \"invalid_key\",\n    invalid_element: \"invalid_element\",\n    invalid_value: \"invalid_value\",\n    custom: \"custom\",\n};\nexport { $brand, config } from \"../core/index.js\";\n/** @deprecated Use `z.config(params)` instead. */\nexport function setErrorMap(map) {\n    core.config({\n        customError: map,\n    });\n}\n/** @deprecated Use `z.config()` instead. */\nexport function getErrorMap() {\n    return core.config().customError;\n}\n/** @deprecated Do not use. Stub definition, only included for zod-to-json-schema compatibility. */\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/alert-dialog.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { createDialogScope } from \"@radix-ui/react-dialog\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar ROOT_NAME = \"AlertDialog\";\nvar [createAlertDialogContext, createAlertDialogScope] = createContextScope(ROOT_NAME, [\n  createDialogScope\n]);\nvar useDialogScope = createDialogScope();\nvar AlertDialog = (props) => {\n  const { __scopeAlertDialog, ...alertDialogProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Root, { ...dialogScope, ...alertDialogProps, modal: true });\n};\nAlertDialog.displayName = ROOT_NAME;\nvar TRIGGER_NAME = \"AlertDialogTrigger\";\nvar AlertDialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...triggerProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Trigger, { ...dialogScope, ...triggerProps, ref: forwardedRef });\n  }\n);\nAlertDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"AlertDialogPortal\";\nvar AlertDialogPortal = (props) => {\n  const { __scopeAlertDialog, ...portalProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Portal, { ...dialogScope, ...portalProps });\n};\nAlertDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"AlertDialogOverlay\";\nvar AlertDialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...overlayProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Overlay, { ...dialogScope, ...overlayProps, ref: forwardedRef });\n  }\n);\nAlertDialogOverlay.displayName = OVERLAY_NAME;\nvar CONTENT_NAME = \"AlertDialogContent\";\nvar [AlertDialogContentProvider, useAlertDialogContentContext] = createAlertDialogContext(CONTENT_NAME);\nvar Slottable = createSlottable(\"AlertDialogContent\");\nvar AlertDialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, children, ...contentProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const cancelRef = React.useRef(null);\n    return /* @__PURE__ */ jsx(\n      DialogPrimitive.WarningProvider,\n      {\n        contentName: CONTENT_NAME,\n        titleName: TITLE_NAME,\n        docsSlug: \"alert-dialog\",\n        children: /* @__PURE__ */ jsx(AlertDialogContentProvider, { scope: __scopeAlertDialog, cancelRef, children: /* @__PURE__ */ jsxs(\n          DialogPrimitive.Content,\n          {\n            role: \"alertdialog\",\n            ...dialogScope,\n            ...contentProps,\n            ref: composedRefs,\n            onOpenAutoFocus: composeEventHandlers(contentProps.onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              cancelRef.current?.focus({ preventScroll: true });\n            }),\n            onPointerDownOutside: (event) => event.preventDefault(),\n            onInteractOutside: (event) => event.preventDefault(),\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(DescriptionWarning, { contentRef })\n            ]\n          }\n        ) })\n      }\n    );\n  }\n);\nAlertDialogContent.displayName = CONTENT_NAME;\nvar TITLE_NAME = \"AlertDialogTitle\";\nvar AlertDialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...titleProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Title, { ...dialogScope, ...titleProps, ref: forwardedRef });\n  }\n);\nAlertDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"AlertDialogDescription\";\nvar AlertDialogDescription = React.forwardRef((props, forwardedRef) => {\n  const { __scopeAlertDialog, ...descriptionProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Description, { ...dialogScope, ...descriptionProps, ref: forwardedRef });\n});\nAlertDialogDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"AlertDialogAction\";\nvar AlertDialogAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...actionProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...actionProps, ref: forwardedRef });\n  }\n);\nAlertDialogAction.displayName = ACTION_NAME;\nvar CANCEL_NAME = \"AlertDialogCancel\";\nvar AlertDialogCancel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...cancelProps } = props;\n    const { cancelRef } = useAlertDialogContentContext(CANCEL_NAME, __scopeAlertDialog);\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const ref = useComposedRefs(forwardedRef, cancelRef);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...cancelProps, ref });\n  }\n);\nAlertDialogCancel.displayName = CANCEL_NAME;\nvar DescriptionWarning = ({ contentRef }) => {\n  const MESSAGE = `\\`${CONTENT_NAME}\\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \\`${CONTENT_NAME}\\` by passing a \\`${DESCRIPTION_NAME}\\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \\`id\\` and passing the same value to the \\`aria-describedby\\` prop in \\`${CONTENT_NAME}\\`. If the description is confusing or duplicative for sighted users, you can use the \\`@radix-ui/react-visually-hidden\\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;\n  React.useEffect(() => {\n    const hasDescription = document.getElementById(\n      contentRef.current?.getAttribute(\"aria-describedby\")\n    );\n    if (!hasDescription) console.warn(MESSAGE);\n  }, [MESSAGE, contentRef]);\n  return null;\n};\nvar Root2 = AlertDialog;\nvar Trigger2 = AlertDialogTrigger;\nvar Portal2 = AlertDialogPortal;\nvar Overlay2 = AlertDialogOverlay;\nvar Content2 = AlertDialogContent;\nvar Action = AlertDialogAction;\nvar Cancel = AlertDialogCancel;\nvar Title2 = AlertDialogTitle;\nvar Description2 = AlertDialogDescription;\nexport {\n  Action,\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n  Cancel,\n  Content2 as Content,\n  Description2 as Description,\n  Overlay2 as Overlay,\n  Portal2 as Portal,\n  Root2 as Root,\n  Title2 as Title,\n  Trigger2 as Trigger,\n  createAlertDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\n\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\nimport type * as React from 'react'\nimport { buttonVariants } from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\n/**\n * @public\n */\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-[2px] data-[state=closed]:animate-out data-[state=open]:animate-in',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('font-semibold text-lg', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","import type { LlmProviderConfig } from './types'\n\n/**\n * @public\n */\nexport interface TestResult {\n  success: boolean\n  message: string\n  responseTime?: number\n}\n\n/**\n * Test a provider connection via the agent server's /test-provider endpoint.\n * This uses the same code path as actual chat requests, ensuring accurate validation.\n * @public\n */\nexport async function testProvider(\n  provider: LlmProviderConfig,\n  agentServerUrl: string,\n): Promise<TestResult> {\n  const startTime = performance.now()\n\n  try {\n    const response = await fetch(`${agentServerUrl}/test-provider`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        provider: provider.type,\n        model: provider.modelId,\n        apiKey: provider.apiKey,\n        baseUrl: provider.baseUrl,\n        // Azure\n        resourceName: provider.resourceName,\n        // Bedrock\n        region: provider.region,\n        accessKeyId: provider.accessKeyId,\n        secretAccessKey: provider.secretAccessKey,\n        sessionToken: provider.sessionToken,\n      }),\n    })\n\n    const result = (await response.json()) as TestResult\n\n    if (!result.responseTime) {\n      result.responseTime = Math.round(performance.now() - startTime)\n    }\n\n    return result\n  } catch (error) {\n    const responseTime = Math.round(performance.now() - startTime)\n\n    if (error instanceof Error) {\n      return {\n        success: false,\n        message: error.message,\n        responseTime,\n      }\n    }\n\n    return {\n      success: false,\n      message: 'An unexpected error occurred',\n      responseTime,\n    }\n  }\n}\n","import { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\n/**\n * @public\n */\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import { Check, Loader2, Trash2 } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { BrowserOSIcon, ProviderIcon } from '@/lib/llm-providers/providerIcons'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\nimport { cn } from '@/lib/utils'\n\ninterface ProviderCardProps {\n  provider: LlmProviderConfig\n  isSelected: boolean\n  isBuiltIn: boolean\n  onSelect: () => void\n  onTest?: () => void\n  onEdit?: () => void\n  onDelete?: () => void\n  isTesting?: boolean\n}\n\n/** Card component for displaying a configured LLM provider */\nexport const ProviderCard: FC<ProviderCardProps> = ({\n  provider,\n  isSelected,\n  isBuiltIn,\n  onSelect,\n  onTest,\n  onEdit,\n  onDelete,\n  isTesting = false,\n}) => {\n  const inputId = `provider-${provider.id}`\n\n  return (\n    <label\n      htmlFor={inputId}\n      className={cn(\n        'group flex w-full cursor-pointer items-center gap-4 rounded-xl border p-4 text-left transition-all',\n        isSelected\n          ? 'border-[var(--accent-orange)] bg-[var(--accent-orange)]/5 shadow-md'\n          : 'border-border bg-card hover:border-[var(--accent-orange)]/50 hover:shadow-sm',\n      )}\n    >\n      <input\n        type=\"radio\"\n        id={inputId}\n        name=\"default-provider\"\n        className=\"sr-only\"\n        checked={isSelected}\n        onChange={() => onSelect()}\n      />\n      <div\n        className={cn(\n          'flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 transition-all',\n          isSelected\n            ? 'border-[var(--accent-orange)] bg-[var(--accent-orange)]'\n            : 'border-border',\n        )}\n      >\n        {isSelected && <Check className=\"h-3 w-3 text-white\" />}\n      </div>\n      <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[var(--accent-orange)]/10 text-[var(--accent-orange)]\">\n        {isBuiltIn ? (\n          <BrowserOSIcon size={24} />\n        ) : (\n          <ProviderIcon type={provider.type} size={24} />\n        )}\n      </div>\n      <div className=\"min-w-0 flex-1\">\n        <div className=\"mb-1 flex items-center gap-2\">\n          <span className=\"font-semibold\">{provider.name}</span>\n          {isSelected && (\n            <Badge\n              variant=\"secondary\"\n              className=\"rounded bg-[var(--accent-orange)]/10 text-[var(--accent-orange)]\"\n            >\n              DEFAULT\n            </Badge>\n          )}\n        </div>\n        <p className=\"truncate text-muted-foreground text-sm\">\n          {isBuiltIn\n            ? 'Model hosted on the cloud by BrowserOS, has strict rate limits'\n            : `${provider.modelId} â€¢ ${provider.baseUrl}`}\n        </p>\n      </div>\n      {!isBuiltIn && (\n        <div className=\"flex shrink-0 items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            disabled={isTesting}\n            onClick={() => onTest?.()}\n          >\n            {isTesting && <Loader2 className=\"mr-1.5 h-4 w-4 animate-spin\" />}\n            {isTesting ? 'Testing...' : 'Test'}\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => onEdit?.()}>\n            Edit\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon-sm\"\n            className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive\"\n            onClick={() => onDelete?.()}\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      )}\n    </label>\n  )\n}\n","import type { FC } from 'react'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\nimport { ProviderCard } from './ProviderCard'\n\ninterface ConfiguredProvidersListProps {\n  providers: LlmProviderConfig[]\n  selectedProviderId: string\n  testingProviderId: string | null\n  onSelectProvider: (providerId: string) => void\n  onTestProvider: (provider: LlmProviderConfig) => void\n  onEditProvider: (provider: LlmProviderConfig) => void\n  onDeleteProvider: (provider: LlmProviderConfig) => void\n}\n\n/**\n * List of configured LLM providers with selection capability\n */\nexport const ConfiguredProvidersList: FC<ConfiguredProvidersListProps> = ({\n  providers,\n  selectedProviderId,\n  testingProviderId,\n  onSelectProvider,\n  onTestProvider,\n  onEditProvider,\n  onDeleteProvider,\n}) => {\n  return (\n    <div className=\"space-y-3\">\n      {providers.map((provider) => {\n        const isBuiltIn = provider.id === 'browseros'\n\n        return (\n          <ProviderCard\n            key={provider.id}\n            provider={provider}\n            isSelected={selectedProviderId === provider.id}\n            isBuiltIn={isBuiltIn}\n            isTesting={testingProviderId === provider.id}\n            onSelect={() => onSelectProvider(provider.id)}\n            onTest={() => onTestProvider(provider)}\n            onEdit={() => onEditProvider(provider)}\n            onDelete={() => onDeleteProvider(provider)}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\n\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\n/**\n * @public\n */\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\n/**\n * @public\n */\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\n/**\n * @public\n */\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs outline-none transition-[color,box-shadow] focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[size=default]:h-9 data-[size=sm]:h-8 data-[placeholder]:text-muted-foreground *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 dark:bg-input/30 dark:aria-invalid:ring-destructive/40 dark:hover:bg-input/50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  align = 'center',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in',\n          position === 'popper' &&\n            'data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=bottom]:translate-y-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('px-2 py-1.5 text-muted-foreground text-xs', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('pointer-events-none -mx-1 my-1 h-px bg-border', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n","import { Plus } from 'lucide-react'\nimport type { FC } from 'react'\nimport ProductLogoSvg from '@/assets/product_logo.svg'\nimport { Button } from '@/components/ui/button'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\n\ninterface LlmProvidersHeaderProps {\n  providers: LlmProviderConfig[]\n  defaultProviderId: string\n  onDefaultProviderChange: (providerId: string) => void\n  onAddProvider: () => void\n}\n\n/**\n * Header section for LLM providers with default provider selector and add button\n */\nexport const LlmProvidersHeader: FC<LlmProvidersHeaderProps> = ({\n  providers,\n  defaultProviderId,\n  onDefaultProviderChange,\n  onAddProvider,\n}) => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <img src={ProductLogoSvg} alt=\"BrowserOS\" className=\"h-8 w-8\" />\n        </div>\n        <div className=\"flex-1\">\n          <h2 className=\"mb-1 font-semibold text-xl\">LLM Providers</h2>\n          <p className=\"mb-6 text-muted-foreground text-sm\">\n            Add your provider and choose the default LLM\n          </p>\n\n          <div className=\"flex flex-col items-start gap-4 sm:flex-row sm:items-center\">\n            <label\n              htmlFor=\"provider-picker\"\n              className=\"whitespace-nowrap font-medium text-sm\"\n            >\n              Default Provider:\n            </label>\n            <Select\n              value={defaultProviderId}\n              onValueChange={onDefaultProviderChange}\n            >\n              <SelectTrigger\n                id=\"provider-picker\"\n                className=\"w-full flex-1 sm:max-w-xs\"\n              >\n                <SelectValue placeholder=\"Select a provider\" />\n              </SelectTrigger>\n              <SelectContent>\n                {providers.map((provider) => (\n                  <SelectItem key={provider.id} value={provider.id}>\n                    {provider.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            <Button\n              variant=\"outline\"\n              onClick={onAddProvider}\n              className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              Add custom provider\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\n\nvar isCheckBoxInput = (element) => element.type === 'checkbox';\n\nvar isDateObject = (value) => value instanceof Date;\n\nvar isNullOrUndefined = (value) => value == null;\n\nconst isObjectType = (value) => typeof value === 'object';\nvar isObject = (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);\n\nvar getEventValue = (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;\n\nvar getNodeParentName = (name) => name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n\nvar isNameInFieldArray = (names, name) => names.has(getNodeParentName(name));\n\nvar isPlainObject = (tempObject) => {\n    const prototypeCopy = tempObject.constructor && tempObject.constructor.prototype;\n    return (isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf'));\n};\n\nvar isWeb = typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n\nfunction cloneObject(data) {\n    let copy;\n    const isArray = Array.isArray(data);\n    const isFileListInstance = typeof FileList !== 'undefined' ? data instanceof FileList : false;\n    if (data instanceof Date) {\n        copy = new Date(data);\n    }\n    else if (!(isWeb && (data instanceof Blob || isFileListInstance)) &&\n        (isArray || isObject(data))) {\n        copy = isArray ? [] : Object.create(Object.getPrototypeOf(data));\n        if (!isArray && !isPlainObject(data)) {\n            copy = data;\n        }\n        else {\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    copy[key] = cloneObject(data[key]);\n                }\n            }\n        }\n    }\n    else {\n        return data;\n    }\n    return copy;\n}\n\nvar isKey = (value) => /^\\w*$/.test(value);\n\nvar isUndefined = (val) => val === undefined;\n\nvar compact = (value) => Array.isArray(value) ? value.filter(Boolean) : [];\n\nvar stringToPath = (input) => compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n\nvar get = (object, path, defaultValue) => {\n    if (!path || !isObject(object)) {\n        return defaultValue;\n    }\n    const result = (isKey(path) ? [path] : stringToPath(path)).reduce((result, key) => isNullOrUndefined(result) ? result : result[key], object);\n    return isUndefined(result) || result === object\n        ? isUndefined(object[path])\n            ? defaultValue\n            : object[path]\n        : result;\n};\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nvar set = (object, path, value) => {\n    let index = -1;\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\n    const length = tempPath.length;\n    const lastIndex = length - 1;\n    while (++index < length) {\n        const key = tempPath[index];\n        let newValue = value;\n        if (index !== lastIndex) {\n            const objValue = object[key];\n            newValue =\n                isObject(objValue) || Array.isArray(objValue)\n                    ? objValue\n                    : !isNaN(+tempPath[index + 1])\n                        ? []\n                        : {};\n        }\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n            return;\n        }\n        object[key] = newValue;\n        object = object[key];\n    }\n};\n\nconst EVENTS = {\n    BLUR: 'blur',\n    FOCUS_OUT: 'focusout',\n    CHANGE: 'change',\n};\nconst VALIDATION_MODE = {\n    onBlur: 'onBlur',\n    onChange: 'onChange',\n    onSubmit: 'onSubmit',\n    onTouched: 'onTouched',\n    all: 'all',\n};\nconst INPUT_VALIDATION_RULES = {\n    max: 'max',\n    min: 'min',\n    maxLength: 'maxLength',\n    minLength: 'minLength',\n    pattern: 'pattern',\n    required: 'required',\n    validate: 'validate',\n};\n\nconst HookFormContext = React.createContext(null);\nHookFormContext.displayName = 'HookFormContext';\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst useFormContext = () => React.useContext(HookFormContext);\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://react.dev/reference/react/useContext) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst FormProvider = (props) => {\n    const { children, ...data } = props;\n    return (React.createElement(HookFormContext.Provider, { value: data }, children));\n};\n\nvar getProxyFormState = (formState, control, localProxyFormState, isRoot = true) => {\n    const result = {\n        defaultValues: control._defaultValues,\n    };\n    for (const key in formState) {\n        Object.defineProperty(result, key, {\n            get: () => {\n                const _key = key;\n                if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n                    control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n                }\n                localProxyFormState && (localProxyFormState[_key] = true);\n                return formState[_key];\n            },\n        });\n    }\n    return result;\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate) â€¢ [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, name, exact } = props || {};\n    const [formState, updateFormState] = React.useState(control._formState);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        isLoading: false,\n        dirtyFields: false,\n        touchedFields: false,\n        validatingFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    useIsomorphicLayoutEffect(() => control._subscribe({\n        name,\n        formState: _localProxyFormState.current,\n        exact,\n        callback: (formState) => {\n            !disabled &&\n                updateFormState({\n                    ...control._formState,\n                    ...formState,\n                });\n        },\n    }), [name, disabled, exact]);\n    React.useEffect(() => {\n        _localProxyFormState.current.isValid && control._setValid(true);\n    }, [control]);\n    return React.useMemo(() => getProxyFormState(formState, control, _localProxyFormState.current, false), [formState, control]);\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar generateWatchOutput = (names, _names, formValues, isGlobal, defaultValue) => {\n    if (isString(names)) {\n        isGlobal && _names.watch.add(names);\n        return get(formValues, names, defaultValue);\n    }\n    if (Array.isArray(names)) {\n        return names.map((fieldName) => (isGlobal && _names.watch.add(fieldName),\n            get(formValues, fieldName)));\n    }\n    isGlobal && (_names.watchAll = true);\n    return formValues;\n};\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nfunction deepEqual(object1, object2, _internal_visited = new WeakSet()) {\n    if (isPrimitive(object1) || isPrimitive(object2)) {\n        return Object.is(object1, object2);\n    }\n    if (isDateObject(object1) && isDateObject(object2)) {\n        return object1.getTime() === object2.getTime();\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    if (_internal_visited.has(object1) || _internal_visited.has(object2)) {\n        return true;\n    }\n    _internal_visited.add(object1);\n    _internal_visited.add(object2);\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isDateObject(val1) && isDateObject(val2)) ||\n                (isObject(val1) && isObject(val2)) ||\n                (Array.isArray(val1) && Array.isArray(val2))\n                ? !deepEqual(val1, val2, _internal_visited)\n                : !Object.is(val1, val2)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nfunction useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, exact, compute, } = props || {};\n    const _defaultValue = React.useRef(defaultValue);\n    const _compute = React.useRef(compute);\n    const _computeFormValues = React.useRef(undefined);\n    const _prevControl = React.useRef(control);\n    const _prevName = React.useRef(name);\n    _compute.current = compute;\n    const [value, updateValue] = React.useState(() => {\n        const defaultValue = control._getWatch(name, _defaultValue.current);\n        return _compute.current ? _compute.current(defaultValue) : defaultValue;\n    });\n    const getCurrentOutput = React.useCallback((values) => {\n        const formValues = generateWatchOutput(name, control._names, values || control._formValues, false, _defaultValue.current);\n        return _compute.current ? _compute.current(formValues) : formValues;\n    }, [control._formValues, control._names, name]);\n    const refreshValue = React.useCallback((values) => {\n        if (!disabled) {\n            const formValues = generateWatchOutput(name, control._names, values || control._formValues, false, _defaultValue.current);\n            if (_compute.current) {\n                const computedFormValues = _compute.current(formValues);\n                if (!deepEqual(computedFormValues, _computeFormValues.current)) {\n                    updateValue(computedFormValues);\n                    _computeFormValues.current = computedFormValues;\n                }\n            }\n            else {\n                updateValue(formValues);\n            }\n        }\n    }, [control._formValues, control._names, disabled, name]);\n    useIsomorphicLayoutEffect(() => {\n        if (_prevControl.current !== control ||\n            !deepEqual(_prevName.current, name)) {\n            _prevControl.current = control;\n            _prevName.current = name;\n            refreshValue();\n        }\n        return control._subscribe({\n            name,\n            formState: {\n                values: true,\n            },\n            exact,\n            callback: (formState) => {\n                refreshValue(formState.values);\n            },\n        });\n    }, [control, exact, name, refreshValue]);\n    React.useEffect(() => control._removeUnmounted());\n    // If name or control changed for this render, synchronously reflect the\n    // latest value so callers (like useController) see the correct value\n    // immediately on the same render.\n    // Optimize: Check control reference first before expensive deepEqual\n    const controlChanged = _prevControl.current !== control;\n    const prevName = _prevName.current;\n    // Cache the computed output to avoid duplicate calls within the same render\n    // We include shouldReturnImmediate in deps to ensure proper recomputation\n    const computedOutput = React.useMemo(() => {\n        if (disabled) {\n            return null;\n        }\n        const nameChanged = !controlChanged && !deepEqual(prevName, name);\n        const shouldReturnImmediate = controlChanged || nameChanged;\n        return shouldReturnImmediate ? getCurrentOutput() : null;\n    }, [disabled, controlChanged, name, prevName, getCurrentOutput]);\n    return computedOutput !== null ? computedOutput : value;\n}\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller) â€¢ [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nfunction useController(props) {\n    const methods = useFormContext();\n    const { name, disabled, control = methods.control, shouldUnregister, defaultValue, exact = true, } = props;\n    const isArrayField = isNameInFieldArray(control._names.array, name);\n    const defaultValueMemo = React.useMemo(() => get(control._formValues, name, get(control._defaultValues, name, defaultValue)), [control, name, defaultValue]);\n    const value = useWatch({\n        control,\n        name,\n        defaultValue: defaultValueMemo,\n        exact,\n    });\n    const formState = useFormState({\n        control,\n        name,\n        exact,\n    });\n    const _props = React.useRef(props);\n    const _previousNameRef = React.useRef(undefined);\n    const _registerProps = React.useRef(control.register(name, {\n        ...props.rules,\n        value,\n        ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }));\n    _props.current = props;\n    const fieldState = React.useMemo(() => Object.defineProperties({}, {\n        invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n        },\n        isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n        },\n        isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n        },\n        isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n        },\n        error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n        },\n    }), [formState, name]);\n    const onChange = React.useCallback((event) => _registerProps.current.onChange({\n        target: {\n            value: getEventValue(event),\n            name: name,\n        },\n        type: EVENTS.CHANGE,\n    }), [name]);\n    const onBlur = React.useCallback(() => _registerProps.current.onBlur({\n        target: {\n            value: get(control._formValues, name),\n            name: name,\n        },\n        type: EVENTS.BLUR,\n    }), [name, control._formValues]);\n    const ref = React.useCallback((elm) => {\n        const field = get(control._fields, name);\n        if (field && elm) {\n            field._f.ref = {\n                focus: () => elm.focus && elm.focus(),\n                select: () => elm.select && elm.select(),\n                setCustomValidity: (message) => elm.setCustomValidity(message),\n                reportValidity: () => elm.reportValidity(),\n            };\n        }\n    }, [control._fields, name]);\n    const field = React.useMemo(() => ({\n        name,\n        value,\n        ...(isBoolean(disabled) || formState.disabled\n            ? { disabled: formState.disabled || disabled }\n            : {}),\n        onChange,\n        onBlur,\n        ref,\n    }), [name, disabled, formState.disabled, onChange, onBlur, ref, value]);\n    React.useEffect(() => {\n        const _shouldUnregisterField = control._options.shouldUnregister || shouldUnregister;\n        const previousName = _previousNameRef.current;\n        if (previousName && previousName !== name && !isArrayField) {\n            control.unregister(previousName);\n        }\n        control.register(name, {\n            ..._props.current.rules,\n            ...(isBoolean(_props.current.disabled)\n                ? { disabled: _props.current.disabled }\n                : {}),\n        });\n        const updateMounted = (name, value) => {\n            const field = get(control._fields, name);\n            if (field && field._f) {\n                field._f.mount = value;\n            }\n        };\n        updateMounted(name, true);\n        if (_shouldUnregisterField) {\n            const value = cloneObject(get(control._options.defaultValues, name, _props.current.defaultValue));\n            set(control._defaultValues, name, value);\n            if (isUndefined(get(control._formValues, name))) {\n                set(control._formValues, name, value);\n            }\n        }\n        !isArrayField && control.register(name);\n        _previousNameRef.current = name;\n        return () => {\n            (isArrayField\n                ? _shouldUnregisterField && !control._state.action\n                : _shouldUnregisterField)\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, isArrayField, shouldUnregister]);\n    React.useEffect(() => {\n        control._setDisabledField({\n            disabled,\n            name,\n        });\n    }, [disabled, name, control]);\n    return React.useMemo(() => ({\n        field,\n        formState,\n        fieldState,\n    }), [field, formState, fieldState]);\n}\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw) â€¢ [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = (props) => props.render(useController(props));\n\nconst flatten = (obj) => {\n    const output = {};\n    for (const key of Object.keys(obj)) {\n        if (isObjectType(obj[key]) && obj[key] !== null) {\n            const nested = flatten(obj[key]);\n            for (const nestedKey of Object.keys(nested)) {\n                output[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n        }\n        else {\n            output[key] = obj[key];\n        }\n    }\n    return output;\n};\n\nconst POST_REQUEST = 'post';\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form(props) {\n    const methods = useFormContext();\n    const [mounted, setMounted] = React.useState(false);\n    const { control = methods.control, onSubmit, children, action, method = POST_REQUEST, headers, encType, onError, render, onSuccess, validateStatus, ...rest } = props;\n    const submit = async (event) => {\n        let hasError = false;\n        let type = '';\n        await control.handleSubmit(async (data) => {\n            const formData = new FormData();\n            let formDataJson = '';\n            try {\n                formDataJson = JSON.stringify(data);\n            }\n            catch (_a) { }\n            const flattenFormValues = flatten(control._formValues);\n            for (const key in flattenFormValues) {\n                formData.append(key, flattenFormValues[key]);\n            }\n            if (onSubmit) {\n                await onSubmit({\n                    data,\n                    event,\n                    method,\n                    formData,\n                    formDataJson,\n                });\n            }\n            if (action) {\n                try {\n                    const shouldStringifySubmissionData = [\n                        headers && headers['Content-Type'],\n                        encType,\n                    ].some((value) => value && value.includes('json'));\n                    const response = await fetch(String(action), {\n                        method,\n                        headers: {\n                            ...headers,\n                            ...(encType && encType !== 'multipart/form-data'\n                                ? { 'Content-Type': encType }\n                                : {}),\n                        },\n                        body: shouldStringifySubmissionData ? formDataJson : formData,\n                    });\n                    if (response &&\n                        (validateStatus\n                            ? !validateStatus(response.status)\n                            : response.status < 200 || response.status >= 300)) {\n                        hasError = true;\n                        onError && onError({ response });\n                        type = String(response.status);\n                    }\n                    else {\n                        onSuccess && onSuccess({ response });\n                    }\n                }\n                catch (error) {\n                    hasError = true;\n                    onError && onError({ error });\n                }\n            }\n        })(event);\n        if (hasError && props.control) {\n            props.control._subjects.state.next({\n                isSubmitSuccessful: false,\n            });\n            props.control.setError('root.server', {\n                type,\n            });\n        }\n    };\n    React.useEffect(() => {\n        setMounted(true);\n    }, []);\n    return render ? (React.createElement(React.Fragment, null, render({\n        submit,\n    }))) : (React.createElement(\"form\", { noValidate: mounted, action: action, method: method, encType: encType, onSubmit: submit, ...rest }, children));\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n            ...(errors[name] && errors[name].types ? errors[name].types : {}),\n            [type]: message || true,\n        },\n    }\n    : {};\n\nvar convertToArrayPayload = (value) => (Array.isArray(value) ? value : [value]);\n\nvar createSubject = () => {\n    let _observers = [];\n    const next = (value) => {\n        for (const observer of _observers) {\n            observer.next && observer.next(value);\n        }\n    };\n    const subscribe = (observer) => {\n        _observers.push(observer);\n        return {\n            unsubscribe: () => {\n                _observers = _observers.filter((o) => o !== observer);\n            },\n        };\n    };\n    const unsubscribe = () => {\n        _observers = [];\n    };\n    return {\n        get observers() {\n            return _observers;\n        },\n        next,\n        subscribe,\n        unsubscribe,\n    };\n};\n\nfunction extractFormValues(fieldsState, formValues) {\n    const values = {};\n    for (const key in fieldsState) {\n        if (fieldsState.hasOwnProperty(key)) {\n            const fieldState = fieldsState[key];\n            const fieldValue = formValues[key];\n            if (fieldState && isObject(fieldState) && fieldValue) {\n                const nestedFieldsState = extractFormValues(fieldState, fieldValue);\n                if (isObject(nestedFieldsState)) {\n                    values[key] = nestedFieldsState;\n                }\n            }\n            else if (fieldsState[key]) {\n                values[key] = fieldValue;\n            }\n        }\n    }\n    return values;\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nvar isFileInput = (element) => element.type === 'file';\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isHTMLElement = (value) => {\n    if (!isWeb) {\n        return false;\n    }\n    const owner = value ? value.ownerDocument : 0;\n    return (value instanceof\n        (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement));\n};\n\nvar isMultipleSelect = (element) => element.type === `select-multiple`;\n\nvar isRadioInput = (element) => element.type === 'radio';\n\nvar isRadioOrCheckbox = (ref) => isRadioInput(ref) || isCheckBoxInput(ref);\n\nvar live = (ref) => isHTMLElement(ref) && ref.isConnected;\n\nfunction baseGet(object, updatePath) {\n    const length = updatePath.slice(0, -1).length;\n    let index = 0;\n    while (index < length) {\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\n    }\n    return object;\n}\nfunction isEmptyArray(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction unset(object, path) {\n    const paths = Array.isArray(path)\n        ? path\n        : isKey(path)\n            ? [path]\n            : stringToPath(path);\n    const childObject = paths.length === 1 ? object : baseGet(object, paths);\n    const index = paths.length - 1;\n    const key = paths[index];\n    if (childObject) {\n        delete childObject[key];\n    }\n    if (index !== 0 &&\n        ((isObject(childObject) && isEmptyObject(childObject)) ||\n            (Array.isArray(childObject) && isEmptyArray(childObject)))) {\n        unset(object, paths.slice(0, -1));\n    }\n    return object;\n}\n\nvar objectHasFunction = (data) => {\n    for (const key in data) {\n        if (isFunction(data[key])) {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction isTraversable(value) {\n    return Array.isArray(value) || (isObject(value) && !objectHasFunction(value));\n}\nfunction markFieldsDirty(data, fields = {}) {\n    for (const key in data) {\n        const value = data[key];\n        if (isTraversable(value)) {\n            fields[key] = Array.isArray(value) ? [] : {};\n            markFieldsDirty(value, fields[key]);\n        }\n        else if (!isUndefined(value)) {\n            fields[key] = true;\n        }\n    }\n    return fields;\n}\nfunction getDirtyFields(data, formValues, dirtyFieldsFromValues) {\n    if (!dirtyFieldsFromValues) {\n        dirtyFieldsFromValues = markFieldsDirty(formValues);\n    }\n    for (const key in data) {\n        const value = data[key];\n        if (isTraversable(value)) {\n            if (isUndefined(formValues) || isPrimitive(dirtyFieldsFromValues[key])) {\n                dirtyFieldsFromValues[key] = markFieldsDirty(value, Array.isArray(value) ? [] : {});\n            }\n            else {\n                getDirtyFields(value, isNullOrUndefined(formValues) ? {} : formValues[key], dirtyFieldsFromValues[key]);\n            }\n        }\n        else {\n            const formValue = formValues[key];\n            dirtyFieldsFromValues[key] = !deepEqual(value, formValue);\n        }\n    }\n    return dirtyFieldsFromValues;\n}\n\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nvar getCheckboxValue = (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n\nvar getFieldValueAs = (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : value\n                ? +value\n                : value\n        : valueAsDate && isString(value)\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;\n\nconst defaultReturn = {\n    isValid: false,\n    value: null,\n};\nvar getRadioValue = (options) => Array.isArray(options)\n    ? options.reduce((previous, option) => option && option.checked && !option.disabled\n        ? {\n            isValid: true,\n            value: option.value,\n        }\n        : previous, defaultReturn)\n    : defaultReturn;\n\nfunction getFieldValue(_f) {\n    const ref = _f.ref;\n    if (isFileInput(ref)) {\n        return ref.files;\n    }\n    if (isRadioInput(ref)) {\n        return getRadioValue(_f.refs).value;\n    }\n    if (isMultipleSelect(ref)) {\n        return [...ref.selectedOptions].map(({ value }) => value);\n    }\n    if (isCheckBoxInput(ref)) {\n        return getCheckboxValue(_f.refs).value;\n    }\n    return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n\nvar getResolverOptions = (fieldsNames, _fields, criteriaMode, shouldUseNativeValidation) => {\n    const fields = {};\n    for (const name of fieldsNames) {\n        const field = get(_fields, name);\n        field && set(fields, name, field._f);\n    }\n    return {\n        criteriaMode,\n        names: [...fieldsNames],\n        fields,\n        shouldUseNativeValidation,\n    };\n};\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getRuleValue = (rule) => isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n        ? rule.source\n        : isObject(rule)\n            ? isRegex(rule.value)\n                ? rule.value.source\n                : rule.value\n            : rule;\n\nvar getValidationModes = (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\nvar hasPromiseValidation = (fieldReference) => !!fieldReference &&\n    !!fieldReference.validate &&\n    !!((isFunction(fieldReference.validate) &&\n        fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n        (isObject(fieldReference.validate) &&\n            Object.values(fieldReference.validate).find((validateFunction) => validateFunction.constructor.name === ASYNC_FUNCTION)));\n\nvar hasValidation = (options) => options.mount &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);\n\nvar isWatched = (name, _names, isBlurEvent) => !isBlurEvent &&\n    (_names.watchAll ||\n        _names.watch.has(name) ||\n        [..._names.watch].some((watchName) => name.startsWith(watchName) &&\n            /^\\.\\w+/.test(name.slice(watchName.length))));\n\nconst iterateFieldsByAction = (fields, action, fieldsNames, abortEarly) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const { _f, ...currentField } = field;\n            if (_f) {\n                if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n                    return true;\n                }\n                else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n                    return true;\n                }\n                else {\n                    if (iterateFieldsByAction(currentField, action)) {\n                        break;\n                    }\n                }\n            }\n            else if (isObject(currentField)) {\n                if (iterateFieldsByAction(currentField, action)) {\n                    break;\n                }\n            }\n        }\n    }\n    return;\n};\n\nfunction schemaErrorLookup(errors, _fields, name) {\n    const error = get(errors, name);\n    if (error || isKey(name)) {\n        return {\n            error,\n            name,\n        };\n    }\n    const names = name.split('.');\n    while (names.length) {\n        const fieldName = names.join('.');\n        const field = get(_fields, fieldName);\n        const foundError = get(errors, fieldName);\n        if (field && !Array.isArray(field) && name !== fieldName) {\n            return { name };\n        }\n        if (foundError && foundError.type) {\n            return {\n                name: fieldName,\n                error: foundError,\n            };\n        }\n        if (foundError && foundError.root && foundError.root.type) {\n            return {\n                name: `${fieldName}.root`,\n                error: foundError.root,\n            };\n        }\n        names.pop();\n    }\n    return {\n        name,\n    };\n}\n\nvar shouldRenderFormState = (formStateData, _proxyFormState, updateFormState, isRoot) => {\n    updateFormState(formStateData);\n    const { name, ...formState } = formStateData;\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};\n\nvar shouldSubscribeByName = (name, signalName, exact) => !name ||\n    !signalName ||\n    name === signalName ||\n    convertToArrayPayload(name).some((currentName) => currentName &&\n        (exact\n            ? currentName === signalName\n            : currentName.startsWith(signalName) ||\n                signalName.startsWith(currentName)));\n\nvar skipValidation = (isBlurEvent, isTouched, isSubmitted, reValidateMode, mode) => {\n    if (mode.isOnAll) {\n        return false;\n    }\n    else if (!isSubmitted && mode.isOnTouch) {\n        return !(isTouched || isBlurEvent);\n    }\n    else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n        return !isBlurEvent;\n    }\n    else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n        return isBlurEvent;\n    }\n    return true;\n};\n\nvar unsetEmptyArray = (ref, name) => !compact(get(ref, name)).length && unset(ref, name);\n\nvar updateFieldArrayRootError = (errors, error, name) => {\n    const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n    set(fieldArrayErrors, 'root', error[name]);\n    set(errors, name, fieldArrayErrors);\n    return errors;\n};\n\nfunction getValidateError(result, ref, type = 'validate') {\n    if (isString(result) ||\n        (Array.isArray(result) && result.every(isString)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isString(result) ? result : '',\n            ref,\n        };\n    }\n}\n\nvar getValueAndMessage = (validationData) => isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n    };\n\nvar validateField = async (field, disabledFieldNames, formValues, validateAllFieldCriteria, shouldUseNativeValidation, isFieldArray) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    const inputValue = get(formValues, name);\n    if (!mount || disabledFieldNames.has(name)) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidity = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) &&\n        isUndefined(ref.value) &&\n        isUndefined(inputValue)) ||\n        (isHTMLElement(ref) && ref.value === '') ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = {\n            type: exceedMax ? maxType : minType,\n            message,\n            ref,\n            ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n        };\n    };\n    if (isFieldArray\n        ? !Array.isArray(inputValue) || !inputValue.length\n        : required &&\n            ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n                (isBoolean(inputValue) && !inputValue) ||\n                (isCheckBox && !getCheckboxValue(refs).isValid) ||\n                (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isString(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.required,\n                message,\n                ref: inputRef,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNullOrUndefined(inputValue) && !isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber ||\n                (inputValue ? +inputValue : inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            const convertTimeToDate = (time) => new Date(new Date().toDateString() + ' ' + time);\n            const isTime = ref.type == 'time';\n            const isWeek = ref.type == 'week';\n            if (isString(maxOutput.value) && inputValue) {\n                exceedMax = isTime\n                    ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n                    : isWeek\n                        ? inputValue > maxOutput.value\n                        : valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value) && inputValue) {\n                exceedMin = isTime\n                    ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n                    : isWeek\n                        ? inputValue < minOutput.value\n                        : valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) &&\n        !isEmpty &&\n        (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > +maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < +minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.pattern,\n                message,\n                ref,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue, formValues);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = {\n                    ...validateError,\n                    ...appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message),\n                };\n                if (!validateAllFieldCriteria) {\n                    setCustomValidity(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue, formValues), inputRef, key);\n                if (validateError) {\n                    validationResult = {\n                        ...validateError,\n                        ...appendErrorsCurry(key, validateError.message),\n                    };\n                    setCustomValidity(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = {\n                    ref: inputRef,\n                    ...validationResult,\n                };\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidity(true);\n    return error;\n};\n\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nfunction createFormControl(props = {}) {\n    let _options = {\n        ...defaultOptions,\n        ...props,\n    };\n    let _formState = {\n        submitCount: 0,\n        isDirty: false,\n        isReady: false,\n        isLoading: isFunction(_options.defaultValues),\n        isValidating: false,\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        touchedFields: {},\n        dirtyFields: {},\n        validatingFields: {},\n        errors: _options.errors || {},\n        disabled: _options.disabled || false,\n    };\n    let _fields = {};\n    let _defaultValues = isObject(_options.defaultValues) || isObject(_options.values)\n        ? cloneObject(_options.defaultValues || _options.values) || {}\n        : {};\n    let _formValues = _options.shouldUnregister\n        ? {}\n        : cloneObject(_defaultValues);\n    let _state = {\n        action: false,\n        mount: false,\n        watch: false,\n    };\n    let _names = {\n        mount: new Set(),\n        disabled: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n    };\n    let delayErrorCallback;\n    let timer = 0;\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        validatingFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _proxySubscribeFormState = {\n        ..._proxyFormState,\n    };\n    const _subjects = {\n        array: createSubject(),\n        state: createSubject(),\n    };\n    const shouldDisplayAllAssociatedErrors = _options.criteriaMode === VALIDATION_MODE.all;\n    const debounce = (callback) => (wait) => {\n        clearTimeout(timer);\n        timer = setTimeout(callback, wait);\n    };\n    const _setValid = async (shouldUpdateValid) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValid ||\n                _proxySubscribeFormState.isValid ||\n                shouldUpdateValid)) {\n            const isValid = _options.resolver\n                ? isEmptyObject((await _runSchema()).errors)\n                : await executeBuiltInValidation(_fields, true);\n            if (isValid !== _formState.isValid) {\n                _subjects.state.next({\n                    isValid,\n                });\n            }\n        }\n    };\n    const _updateIsValidating = (names, isValidating) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValidating ||\n                _proxyFormState.validatingFields ||\n                _proxySubscribeFormState.isValidating ||\n                _proxySubscribeFormState.validatingFields)) {\n            (names || Array.from(_names.mount)).forEach((name) => {\n                if (name) {\n                    isValidating\n                        ? set(_formState.validatingFields, name, isValidating)\n                        : unset(_formState.validatingFields, name);\n                }\n            });\n            _subjects.state.next({\n                validatingFields: _formState.validatingFields,\n                isValidating: !isEmptyObject(_formState.validatingFields),\n            });\n        }\n    };\n    const _setFieldArray = (name, values = [], method, args, shouldSetValues = true, shouldUpdateFieldsAndState = true) => {\n        if (args && method && !_options.disabled) {\n            _state.action = true;\n            if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n                const fieldValues = method(get(_fields, name), args.argA, args.argB);\n                shouldSetValues && set(_fields, name, fieldValues);\n            }\n            if (shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.errors, name))) {\n                const errors = method(get(_formState.errors, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.errors, name, errors);\n                unsetEmptyArray(_formState.errors, name);\n            }\n            if ((_proxyFormState.touchedFields ||\n                _proxySubscribeFormState.touchedFields) &&\n                shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.touchedFields, name))) {\n                const touchedFields = method(get(_formState.touchedFields, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n            }\n            if (_proxyFormState.dirtyFields || _proxySubscribeFormState.dirtyFields) {\n                _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n            }\n            _subjects.state.next({\n                name,\n                isDirty: _getDirty(name, values),\n                dirtyFields: _formState.dirtyFields,\n                errors: _formState.errors,\n                isValid: _formState.isValid,\n            });\n        }\n        else {\n            set(_formValues, name, values);\n        }\n    };\n    const updateErrors = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const _setErrors = (errors) => {\n        _formState.errors = errors;\n        _subjects.state.next({\n            errors: _formState.errors,\n            isValid: false,\n        });\n    };\n    const updateValidAndValue = (name, shouldSkipSetValueAs, value, ref) => {\n        const field = get(_fields, name);\n        if (field) {\n            const defaultValue = get(_formValues, name, isUndefined(value) ? get(_defaultValues, name) : value);\n            isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipSetValueAs\n                ? set(_formValues, name, shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f))\n                : setFieldValue(name, defaultValue);\n            _state.mount && !_state.action && _setValid();\n        }\n    };\n    const updateTouchAndDirty = (name, fieldValue, isBlurEvent, shouldDirty, shouldRender) => {\n        let shouldUpdateField = false;\n        let isPreviousDirty = false;\n        const output = {\n            name,\n        };\n        if (!_options.disabled) {\n            if (!isBlurEvent || shouldDirty) {\n                if (_proxyFormState.isDirty || _proxySubscribeFormState.isDirty) {\n                    isPreviousDirty = _formState.isDirty;\n                    _formState.isDirty = output.isDirty = _getDirty();\n                    shouldUpdateField = isPreviousDirty !== output.isDirty;\n                }\n                const isCurrentFieldPristine = deepEqual(get(_defaultValues, name), fieldValue);\n                isPreviousDirty = !!get(_formState.dirtyFields, name);\n                isCurrentFieldPristine\n                    ? unset(_formState.dirtyFields, name)\n                    : set(_formState.dirtyFields, name, true);\n                output.dirtyFields = _formState.dirtyFields;\n                shouldUpdateField =\n                    shouldUpdateField ||\n                        ((_proxyFormState.dirtyFields ||\n                            _proxySubscribeFormState.dirtyFields) &&\n                            isPreviousDirty !== !isCurrentFieldPristine);\n            }\n            if (isBlurEvent) {\n                const isPreviousFieldTouched = get(_formState.touchedFields, name);\n                if (!isPreviousFieldTouched) {\n                    set(_formState.touchedFields, name, isBlurEvent);\n                    output.touchedFields = _formState.touchedFields;\n                    shouldUpdateField =\n                        shouldUpdateField ||\n                            ((_proxyFormState.touchedFields ||\n                                _proxySubscribeFormState.touchedFields) &&\n                                isPreviousFieldTouched !== isBlurEvent);\n                }\n            }\n            shouldUpdateField && shouldRender && _subjects.state.next(output);\n        }\n        return shouldUpdateField ? output : {};\n    };\n    const shouldRenderByError = (name, isValid, error, fieldState) => {\n        const previousFieldError = get(_formState.errors, name);\n        const shouldUpdateValid = (_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n            isBoolean(isValid) &&\n            _formState.isValid !== isValid;\n        if (_options.delayError && error) {\n            delayErrorCallback = debounce(() => updateErrors(name, error));\n            delayErrorCallback(_options.delayError);\n        }\n        else {\n            clearTimeout(timer);\n            delayErrorCallback = null;\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n            !isEmptyObject(fieldState) ||\n            shouldUpdateValid) {\n            const updatedFormState = {\n                ...fieldState,\n                ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n                errors: _formState.errors,\n                name,\n            };\n            _formState = {\n                ..._formState,\n                ...updatedFormState,\n            };\n            _subjects.state.next(updatedFormState);\n        }\n    };\n    const _runSchema = async (name) => {\n        _updateIsValidating(name, true);\n        const result = await _options.resolver(_formValues, _options.context, getResolverOptions(name || _names.mount, _fields, _options.criteriaMode, _options.shouldUseNativeValidation));\n        _updateIsValidating(name);\n        return result;\n    };\n    const executeSchemaAndUpdateState = async (names) => {\n        const { errors } = await _runSchema(names);\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const executeBuiltInValidation = async (fields, shouldOnlyCheckValid, context = {\n        valid: true,\n    }) => {\n        for (const name in fields) {\n            const field = fields[name];\n            if (field) {\n                const { _f, ...fieldValue } = field;\n                if (_f) {\n                    const isFieldArrayRoot = _names.array.has(_f.name);\n                    const isPromiseFunction = field._f && hasPromiseValidation(field._f);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([_f.name], true);\n                    }\n                    const fieldError = await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation && !shouldOnlyCheckValid, isFieldArrayRoot);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([_f.name]);\n                    }\n                    if (fieldError[_f.name]) {\n                        context.valid = false;\n                        if (shouldOnlyCheckValid) {\n                            break;\n                        }\n                    }\n                    !shouldOnlyCheckValid &&\n                        (get(fieldError, _f.name)\n                            ? isFieldArrayRoot\n                                ? updateFieldArrayRootError(_formState.errors, fieldError, _f.name)\n                                : set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name));\n                }\n                !isEmptyObject(fieldValue) &&\n                    (await executeBuiltInValidation(fieldValue, shouldOnlyCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const _removeUnmounted = () => {\n        for (const name of _names.unMount) {\n            const field = get(_fields, name);\n            field &&\n                (field._f.refs\n                    ? field._f.refs.every((ref) => !live(ref))\n                    : !live(field._f.ref)) &&\n                unregister(name);\n        }\n        _names.unMount = new Set();\n    };\n    const _getDirty = (name, data) => !_options.disabled &&\n        (name && data && set(_formValues, name, data),\n            !deepEqual(getValues(), _defaultValues));\n    const _getWatch = (names, defaultValue, isGlobal) => generateWatchOutput(names, _names, {\n        ...(_state.mount\n            ? _formValues\n            : isUndefined(defaultValue)\n                ? _defaultValues\n                : isString(names)\n                    ? { [names]: defaultValue }\n                    : defaultValue),\n    }, isGlobal, defaultValue);\n    const _getFieldArray = (name) => compact(get(_state.mount ? _formValues : _defaultValues, name, _options.shouldUnregister ? get(_defaultValues, name, []) : []));\n    const setFieldValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        let fieldValue = value;\n        if (field) {\n            const fieldReference = field._f;\n            if (fieldReference) {\n                !fieldReference.disabled &&\n                    set(_formValues, name, getFieldValueAs(value, fieldReference));\n                fieldValue =\n                    isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n                        ? ''\n                        : value;\n                if (isMultipleSelect(fieldReference.ref)) {\n                    [...fieldReference.ref.options].forEach((optionRef) => (optionRef.selected = fieldValue.includes(optionRef.value)));\n                }\n                else if (fieldReference.refs) {\n                    if (isCheckBoxInput(fieldReference.ref)) {\n                        fieldReference.refs.forEach((checkboxRef) => {\n                            if (!checkboxRef.defaultChecked || !checkboxRef.disabled) {\n                                if (Array.isArray(fieldValue)) {\n                                    checkboxRef.checked = !!fieldValue.find((data) => data === checkboxRef.value);\n                                }\n                                else {\n                                    checkboxRef.checked =\n                                        fieldValue === checkboxRef.value || !!fieldValue;\n                                }\n                            }\n                        });\n                    }\n                    else {\n                        fieldReference.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else if (isFileInput(fieldReference.ref)) {\n                    fieldReference.ref.value = '';\n                }\n                else {\n                    fieldReference.ref.value = fieldValue;\n                    if (!fieldReference.ref.type) {\n                        _subjects.state.next({\n                            name,\n                            values: cloneObject(_formValues),\n                        });\n                    }\n                }\n            }\n        }\n        (options.shouldDirty || options.shouldTouch) &&\n            updateTouchAndDirty(name, fieldValue, options.shouldTouch, options.shouldDirty, true);\n        options.shouldValidate && trigger(name);\n    };\n    const setValues = (name, value, options) => {\n        for (const fieldKey in value) {\n            if (!value.hasOwnProperty(fieldKey)) {\n                return;\n            }\n            const fieldValue = value[fieldKey];\n            const fieldName = name + '.' + fieldKey;\n            const field = get(_fields, fieldName);\n            (_names.array.has(name) ||\n                isObject(fieldValue) ||\n                (field && !field._f)) &&\n                !isDateObject(fieldValue)\n                ? setValues(fieldName, fieldValue, options)\n                : setFieldValue(fieldName, fieldValue, options);\n        }\n    };\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        const cloneValue = cloneObject(value);\n        set(_formValues, name, cloneValue);\n        if (isFieldArray) {\n            _subjects.array.next({\n                name,\n                values: cloneObject(_formValues),\n            });\n            if ((_proxyFormState.isDirty ||\n                _proxyFormState.dirtyFields ||\n                _proxySubscribeFormState.isDirty ||\n                _proxySubscribeFormState.dirtyFields) &&\n                options.shouldDirty) {\n                _subjects.state.next({\n                    name,\n                    dirtyFields: getDirtyFields(_defaultValues, _formValues),\n                    isDirty: _getDirty(name, cloneValue),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(cloneValue)\n                ? setValues(name, cloneValue, options)\n                : setFieldValue(name, cloneValue, options);\n        }\n        isWatched(name, _names) && _subjects.state.next({ ..._formState, name });\n        _subjects.state.next({\n            name: _state.mount ? name : undefined,\n            values: cloneObject(_formValues),\n        });\n    };\n    const onChange = async (event) => {\n        _state.mount = true;\n        const target = event.target;\n        let name = target.name;\n        let isFieldValueUpdated = true;\n        const field = get(_fields, name);\n        const _updateIsFieldValueUpdated = (fieldValue) => {\n            isFieldValueUpdated =\n                Number.isNaN(fieldValue) ||\n                    (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n                    deepEqual(fieldValue, get(_formValues, name, fieldValue));\n        };\n        const validationModeBeforeSubmit = getValidationModes(_options.mode);\n        const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);\n        if (field) {\n            let error;\n            let isValid;\n            const fieldValue = target.type\n                ? getFieldValue(field._f)\n                : getEventValue(event);\n            const isBlurEvent = event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n            const shouldSkipValidation = (!hasValidation(field._f) &&\n                !_options.resolver &&\n                !get(_formState.errors, name) &&\n                !field._f.deps) ||\n                skipValidation(isBlurEvent, get(_formState.touchedFields, name), _formState.isSubmitted, validationModeAfterSubmit, validationModeBeforeSubmit);\n            const watched = isWatched(name, _names, isBlurEvent);\n            set(_formValues, name, fieldValue);\n            if (isBlurEvent) {\n                if (!target || !target.readOnly) {\n                    field._f.onBlur && field._f.onBlur(event);\n                    delayErrorCallback && delayErrorCallback(0);\n                }\n            }\n            else if (field._f.onChange) {\n                field._f.onChange(event);\n            }\n            const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent);\n            const shouldRender = !isEmptyObject(fieldState) || watched;\n            !isBlurEvent &&\n                _subjects.state.next({\n                    name,\n                    type: event.type,\n                    values: cloneObject(_formValues),\n                });\n            if (shouldSkipValidation) {\n                if (_proxyFormState.isValid || _proxySubscribeFormState.isValid) {\n                    if (_options.mode === 'onBlur') {\n                        if (isBlurEvent) {\n                            _setValid();\n                        }\n                    }\n                    else if (!isBlurEvent) {\n                        _setValid();\n                    }\n                }\n                return (shouldRender &&\n                    _subjects.state.next({ name, ...(watched ? {} : fieldState) }));\n            }\n            !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n            if (_options.resolver) {\n                const { errors } = await _runSchema([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    const previousErrorLookupResult = schemaErrorLookup(_formState.errors, _fields, name);\n                    const errorLookupResult = schemaErrorLookup(errors, _fields, previousErrorLookupResult.name || name);\n                    error = errorLookupResult.error;\n                    name = errorLookupResult.name;\n                    isValid = isEmptyObject(errors);\n                }\n            }\n            else {\n                _updateIsValidating([name], true);\n                error = (await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation))[name];\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    if (error) {\n                        isValid = false;\n                    }\n                    else if (_proxyFormState.isValid ||\n                        _proxySubscribeFormState.isValid) {\n                        isValid = await executeBuiltInValidation(_fields, true);\n                    }\n                }\n            }\n            if (isFieldValueUpdated) {\n                field._f.deps &&\n                    (!Array.isArray(field._f.deps) || field._f.deps.length > 0) &&\n                    trigger(field._f.deps);\n                shouldRenderByError(name, isValid, error, fieldState);\n            }\n        }\n    };\n    const _focusInput = (ref, key) => {\n        if (get(_formState.errors, key) && ref.focus) {\n            ref.focus();\n            return 1;\n        }\n        return;\n    };\n    const trigger = async (name, options = {}) => {\n        let isValid;\n        let validationResult;\n        const fieldNames = convertToArrayPayload(name);\n        if (_options.resolver) {\n            const errors = await executeSchemaAndUpdateState(isUndefined(name) ? name : fieldNames);\n            isValid = isEmptyObject(errors);\n            validationResult = name\n                ? !fieldNames.some((name) => get(errors, name))\n                : isValid;\n        }\n        else if (name) {\n            validationResult = (await Promise.all(fieldNames.map(async (fieldName) => {\n                const field = get(_fields, fieldName);\n                return await executeBuiltInValidation(field && field._f ? { [fieldName]: field } : field);\n            }))).every(Boolean);\n            !(!validationResult && !_formState.isValid) && _setValid();\n        }\n        else {\n            validationResult = isValid = await executeBuiltInValidation(_fields);\n        }\n        _subjects.state.next({\n            ...(!isString(name) ||\n                ((_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n                    isValid !== _formState.isValid)\n                ? {}\n                : { name }),\n            ...(_options.resolver || !name ? { isValid } : {}),\n            errors: _formState.errors,\n        });\n        options.shouldFocus &&\n            !validationResult &&\n            iterateFieldsByAction(_fields, _focusInput, name ? fieldNames : _names.mount);\n        return validationResult;\n    };\n    const getValues = (fieldNames, config) => {\n        let values = {\n            ...(_state.mount ? _formValues : _defaultValues),\n        };\n        if (config) {\n            values = extractFormValues(config.dirtyFields ? _formState.dirtyFields : _formState.touchedFields, values);\n        }\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const getFieldState = (name, formState) => ({\n        invalid: !!get((formState || _formState).errors, name),\n        isDirty: !!get((formState || _formState).dirtyFields, name),\n        error: get((formState || _formState).errors, name),\n        isValidating: !!get(_formState.validatingFields, name),\n        isTouched: !!get((formState || _formState).touchedFields, name),\n    });\n    const clearErrors = (name) => {\n        name &&\n            convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName));\n        _subjects.state.next({\n            errors: name ? _formState.errors : {},\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        const currentError = get(_formState.errors, name) || {};\n        // Don't override existing error messages elsewhere in the object tree.\n        const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n        set(_formState.errors, name, {\n            ...restOfErrorTree,\n            ...error,\n            ref,\n        });\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (name, defaultValue) => isFunction(name)\n        ? _subjects.state.subscribe({\n            next: (payload) => 'values' in payload &&\n                name(_getWatch(undefined, defaultValue), payload),\n        })\n        : _getWatch(name, defaultValue, true);\n    const _subscribe = (props) => _subjects.state.subscribe({\n        next: (formState) => {\n            if (shouldSubscribeByName(props.name, formState.name, props.exact) &&\n                shouldRenderFormState(formState, props.formState || _proxyFormState, _setFormState, props.reRenderRoot)) {\n                props.callback({\n                    values: { ..._formValues },\n                    ..._formState,\n                    ...formState,\n                    defaultValues: _defaultValues,\n                });\n            }\n        },\n    }).unsubscribe;\n    const subscribe = (props) => {\n        _state.mount = true;\n        _proxySubscribeFormState = {\n            ..._proxySubscribeFormState,\n            ...props.formState,\n        };\n        return _subscribe({\n            ...props,\n            formState: _proxySubscribeFormState,\n        });\n    };\n    const unregister = (name, options = {}) => {\n        for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(fieldName);\n            _names.array.delete(fieldName);\n            if (!options.keepValue) {\n                unset(_fields, fieldName);\n                unset(_formValues, fieldName);\n            }\n            !options.keepError && unset(_formState.errors, fieldName);\n            !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n            !options.keepTouched && unset(_formState.touchedFields, fieldName);\n            !options.keepIsValidating &&\n                unset(_formState.validatingFields, fieldName);\n            !_options.shouldUnregister &&\n                !options.keepDefaultValue &&\n                unset(_defaultValues, fieldName);\n        }\n        _subjects.state.next({\n            values: cloneObject(_formValues),\n        });\n        _subjects.state.next({\n            ..._formState,\n            ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n        });\n        !options.keepIsValid && _setValid();\n    };\n    const _setDisabledField = ({ disabled, name, }) => {\n        if ((isBoolean(disabled) && _state.mount) ||\n            !!disabled ||\n            _names.disabled.has(name)) {\n            disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n        }\n    };\n    const register = (name, options = {}) => {\n        let field = get(_fields, name);\n        const disabledIsDefined = isBoolean(options.disabled) || isBoolean(_options.disabled);\n        set(_fields, name, {\n            ...(field || {}),\n            _f: {\n                ...(field && field._f ? field._f : { ref: { name } }),\n                name,\n                mount: true,\n                ...options,\n            },\n        });\n        _names.mount.add(name);\n        if (field) {\n            _setDisabledField({\n                disabled: isBoolean(options.disabled)\n                    ? options.disabled\n                    : _options.disabled,\n                name,\n            });\n        }\n        else {\n            updateValidAndValue(name, true, options.value);\n        }\n        return {\n            ...(disabledIsDefined\n                ? { disabled: options.disabled || _options.disabled }\n                : {}),\n            ...(_options.progressive\n                ? {\n                    required: !!options.required,\n                    min: getRuleValue(options.min),\n                    max: getRuleValue(options.max),\n                    minLength: getRuleValue(options.minLength),\n                    maxLength: getRuleValue(options.maxLength),\n                    pattern: getRuleValue(options.pattern),\n                }\n                : {}),\n            name,\n            onChange,\n            onBlur: onChange,\n            ref: (ref) => {\n                if (ref) {\n                    register(name, options);\n                    field = get(_fields, name);\n                    const fieldRef = isUndefined(ref.value)\n                        ? ref.querySelectorAll\n                            ? ref.querySelectorAll('input,select,textarea')[0] || ref\n                            : ref\n                        : ref;\n                    const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n                    const refs = field._f.refs || [];\n                    if (radioOrCheckbox\n                        ? refs.find((option) => option === fieldRef)\n                        : fieldRef === field._f.ref) {\n                        return;\n                    }\n                    set(_fields, name, {\n                        _f: {\n                            ...field._f,\n                            ...(radioOrCheckbox\n                                ? {\n                                    refs: [\n                                        ...refs.filter(live),\n                                        fieldRef,\n                                        ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                                    ],\n                                    ref: { type: fieldRef.type, name },\n                                }\n                                : { ref: fieldRef }),\n                        },\n                    });\n                    updateValidAndValue(name, false, undefined, fieldRef);\n                }\n                else {\n                    field = get(_fields, name, {});\n                    if (field._f) {\n                        field._f.mount = false;\n                    }\n                    (_options.shouldUnregister || options.shouldUnregister) &&\n                        !(isNameInFieldArray(_names.array, name) && _state.action) &&\n                        _names.unMount.add(name);\n                }\n            },\n        };\n    };\n    const _focusError = () => _options.shouldFocusError &&\n        iterateFieldsByAction(_fields, _focusInput, _names.mount);\n    const _disableForm = (disabled) => {\n        if (isBoolean(disabled)) {\n            _subjects.state.next({ disabled });\n            iterateFieldsByAction(_fields, (ref, name) => {\n                const currentField = get(_fields, name);\n                if (currentField) {\n                    ref.disabled = currentField._f.disabled || disabled;\n                    if (Array.isArray(currentField._f.refs)) {\n                        currentField._f.refs.forEach((inputRef) => {\n                            inputRef.disabled = currentField._f.disabled || disabled;\n                        });\n                    }\n                }\n            }, 0, false);\n        }\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        let onValidError = undefined;\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist &&\n                e.persist();\n        }\n        let fieldValues = cloneObject(_formValues);\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        if (_options.resolver) {\n            const { errors, values } = await _runSchema();\n            _formState.errors = errors;\n            fieldValues = cloneObject(values);\n        }\n        else {\n            await executeBuiltInValidation(_fields);\n        }\n        if (_names.disabled.size) {\n            for (const name of _names.disabled) {\n                unset(fieldValues, name);\n            }\n        }\n        unset(_formState.errors, 'root');\n        if (isEmptyObject(_formState.errors)) {\n            _subjects.state.next({\n                errors: {},\n            });\n            try {\n                await onValid(fieldValues, e);\n            }\n            catch (error) {\n                onValidError = error;\n            }\n        }\n        else {\n            if (onInvalid) {\n                await onInvalid({ ..._formState.errors }, e);\n            }\n            _focusError();\n            setTimeout(_focusError);\n        }\n        _subjects.state.next({\n            isSubmitted: true,\n            isSubmitting: false,\n            isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n            submitCount: _formState.submitCount + 1,\n            errors: _formState.errors,\n        });\n        if (onValidError) {\n            throw onValidError;\n        }\n    };\n    const resetField = (name, options = {}) => {\n        if (get(_fields, name)) {\n            if (isUndefined(options.defaultValue)) {\n                setValue(name, cloneObject(get(_defaultValues, name)));\n            }\n            else {\n                setValue(name, options.defaultValue);\n                set(_defaultValues, name, cloneObject(options.defaultValue));\n            }\n            if (!options.keepTouched) {\n                unset(_formState.touchedFields, name);\n            }\n            if (!options.keepDirty) {\n                unset(_formState.dirtyFields, name);\n                _formState.isDirty = options.defaultValue\n                    ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n                    : _getDirty();\n            }\n            if (!options.keepError) {\n                unset(_formState.errors, name);\n                _proxyFormState.isValid && _setValid();\n            }\n            _subjects.state.next({ ..._formState });\n        }\n    };\n    const _reset = (formValues, keepStateOptions = {}) => {\n        const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n        const cloneUpdatedValues = cloneObject(updatedValues);\n        const isEmptyResetValues = isEmptyObject(formValues);\n        const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = updatedValues;\n        }\n        if (!keepStateOptions.keepValues) {\n            if (keepStateOptions.keepDirtyValues) {\n                const fieldsToCheck = new Set([\n                    ..._names.mount,\n                    ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n                ]);\n                for (const fieldName of Array.from(fieldsToCheck)) {\n                    get(_formState.dirtyFields, fieldName)\n                        ? set(values, fieldName, get(_formValues, fieldName))\n                        : setValue(fieldName, get(values, fieldName));\n                }\n            }\n            else {\n                if (isWeb && isUndefined(formValues)) {\n                    for (const name of _names.mount) {\n                        const field = get(_fields, name);\n                        if (field && field._f) {\n                            const fieldReference = Array.isArray(field._f.refs)\n                                ? field._f.refs[0]\n                                : field._f.ref;\n                            if (isHTMLElement(fieldReference)) {\n                                const form = fieldReference.closest('form');\n                                if (form) {\n                                    form.reset();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (keepStateOptions.keepFieldsRef) {\n                    for (const fieldName of _names.mount) {\n                        setValue(fieldName, get(values, fieldName));\n                    }\n                }\n                else {\n                    _fields = {};\n                }\n            }\n            _formValues = _options.shouldUnregister\n                ? keepStateOptions.keepDefaultValues\n                    ? cloneObject(_defaultValues)\n                    : {}\n                : cloneObject(values);\n            _subjects.array.next({\n                values: { ...values },\n            });\n            _subjects.state.next({\n                values: { ...values },\n            });\n        }\n        _names = {\n            mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            disabled: new Set(),\n            watch: new Set(),\n            watchAll: false,\n            focus: '',\n        };\n        _state.mount =\n            !_proxyFormState.isValid ||\n                !!keepStateOptions.keepIsValid ||\n                !!keepStateOptions.keepDirtyValues ||\n                (!_options.shouldUnregister && !isEmptyObject(values));\n        _state.watch = !!_options.shouldUnregister;\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: isEmptyResetValues\n                ? false\n                : keepStateOptions.keepDirty\n                    ? _formState.isDirty\n                    : !!(keepStateOptions.keepDefaultValues &&\n                        !deepEqual(formValues, _defaultValues)),\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: isEmptyResetValues\n                ? {}\n                : keepStateOptions.keepDirtyValues\n                    ? keepStateOptions.keepDefaultValues && _formValues\n                        ? getDirtyFields(_defaultValues, _formValues)\n                        : _formState.dirtyFields\n                    : keepStateOptions.keepDefaultValues && formValues\n                        ? getDirtyFields(_defaultValues, formValues)\n                        : keepStateOptions.keepDirty\n                            ? _formState.dirtyFields\n                            : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n                ? _formState.isSubmitSuccessful\n                : false,\n            isSubmitting: false,\n            defaultValues: _defaultValues,\n        });\n    };\n    const reset = (formValues, keepStateOptions) => _reset(isFunction(formValues)\n        ? formValues(_formValues)\n        : formValues, keepStateOptions);\n    const setFocus = (name, options = {}) => {\n        const field = get(_fields, name);\n        const fieldReference = field && field._f;\n        if (fieldReference) {\n            const fieldRef = fieldReference.refs\n                ? fieldReference.refs[0]\n                : fieldReference.ref;\n            if (fieldRef.focus) {\n                fieldRef.focus();\n                options.shouldSelect &&\n                    isFunction(fieldRef.select) &&\n                    fieldRef.select();\n            }\n        }\n    };\n    const _setFormState = (updatedFormState) => {\n        _formState = {\n            ..._formState,\n            ...updatedFormState,\n        };\n    };\n    const _resetDefaultValues = () => isFunction(_options.defaultValues) &&\n        _options.defaultValues().then((values) => {\n            reset(values, _options.resetOptions);\n            _subjects.state.next({\n                isLoading: false,\n            });\n        });\n    const methods = {\n        control: {\n            register,\n            unregister,\n            getFieldState,\n            handleSubmit,\n            setError,\n            _subscribe,\n            _runSchema,\n            _focusError,\n            _getWatch,\n            _getDirty,\n            _setValid,\n            _setFieldArray,\n            _setDisabledField,\n            _setErrors,\n            _getFieldArray,\n            _reset,\n            _resetDefaultValues,\n            _removeUnmounted,\n            _disableForm,\n            _subjects,\n            _proxyFormState,\n            get _fields() {\n                return _fields;\n            },\n            get _formValues() {\n                return _formValues;\n            },\n            get _state() {\n                return _state;\n            },\n            set _state(value) {\n                _state = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            get _formState() {\n                return _formState;\n            },\n            get _options() {\n                return _options;\n            },\n            set _options(value) {\n                _options = {\n                    ..._options,\n                    ...value,\n                };\n            },\n        },\n        subscribe,\n        trigger,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        resetField,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n        getFieldState,\n    };\n    return {\n        ...methods,\n        formControl: methods,\n    };\n}\n\nvar generateId = () => {\n    if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n        return crypto.randomUUID();\n    }\n    const d = typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16 + d) % 16 | 0;\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n};\n\nvar getFocusFieldName = (name, index, options = {}) => options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n        `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n\nvar appendAt = (data, value) => [\n    ...data,\n    ...convertToArrayPayload(value),\n];\n\nvar fillEmptyArray = (value) => Array.isArray(value) ? value.map(() => undefined) : undefined;\n\nfunction insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}\n\nvar moveArrayAt = (data, from, to) => {\n    if (!Array.isArray(data)) {\n        return [];\n    }\n    if (isUndefined(data[to])) {\n        data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n};\n\nvar prependAt = (data, value) => [\n    ...convertToArrayPayload(value),\n    ...convertToArrayPayload(data),\n];\n\nfunction removeAtIndexes(data, indexes) {\n    let i = 0;\n    const temp = [...data];\n    for (const index of indexes) {\n        temp.splice(index - i, 1);\n        i++;\n    }\n    return compact(temp).length ? temp : [];\n}\nvar removeArrayAt = (data, index) => isUndefined(index)\n    ? []\n    : removeAtIndexes(data, convertToArrayPayload(index).sort((a, b) => a - b));\n\nvar swapArrayAt = (data, indexA, indexB) => {\n    [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n\nvar updateAt = (fieldValues, index, value) => {\n    fieldValues[index] = value;\n    return fieldValues;\n};\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc. â€¢ [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn) â€¢ [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFieldArray(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, rules, } = props;\n    const [fields, setFields] = React.useState(control._getFieldArray(name));\n    const ids = React.useRef(control._getFieldArray(name).map(generateId));\n    const _actioned = React.useRef(false);\n    control._names.array.add(name);\n    React.useMemo(() => rules &&\n        fields.length >= 0 &&\n        control.register(name, rules), [control, name, fields.length, rules]);\n    useIsomorphicLayoutEffect(() => control._subjects.array.subscribe({\n        next: ({ values, name: fieldArrayName, }) => {\n            if (fieldArrayName === name || !fieldArrayName) {\n                const fieldValues = get(values, name);\n                if (Array.isArray(fieldValues)) {\n                    setFields(fieldValues);\n                    ids.current = fieldValues.map(generateId);\n                }\n            }\n        },\n    }).unsubscribe, [control, name]);\n    const updateValues = React.useCallback((updatedFieldArrayValues) => {\n        _actioned.current = true;\n        control._setFieldArray(name, updatedFieldArrayValues);\n    }, [control, name]);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = appendAt(control._getFieldArray(name), appendValue);\n        control._names.focus = getFocusFieldName(name, updatedFieldArrayValues.length - 1, options);\n        ids.current = appendAt(ids.current, appendValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, appendAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const prepend = (value, options) => {\n        const prependValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = prependAt(control._getFieldArray(name), prependValue);\n        control._names.focus = getFocusFieldName(name, 0, options);\n        ids.current = prependAt(ids.current, prependValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, prependAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArray(name), index);\n        ids.current = removeArrayAt(ids.current, index);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        !Array.isArray(get(control._fields, name)) &&\n            set(control._fields, name, undefined);\n        control._setFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n            argA: index,\n        });\n    };\n    const insert$1 = (index, value, options) => {\n        const insertValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = insert(control._getFieldArray(name), index, insertValue);\n        control._names.focus = getFocusFieldName(name, index, options);\n        ids.current = insert(ids.current, index, insertValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, insert, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        });\n    };\n    const swap = (indexA, indexB) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n        swapArrayAt(ids.current, indexA, indexB);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, false);\n    };\n    const move = (from, to) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        moveArrayAt(updatedFieldArrayValues, from, to);\n        moveArrayAt(ids.current, from, to);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, false);\n    };\n    const update = (index, value) => {\n        const updateValue = cloneObject(value);\n        const updatedFieldArrayValues = updateAt(control._getFieldArray(name), index, updateValue);\n        ids.current = [...updatedFieldArrayValues].map((item, i) => !item || i === index ? generateId() : ids.current[i]);\n        updateValues(updatedFieldArrayValues);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, updatedFieldArrayValues, updateAt, {\n            argA: index,\n            argB: updateValue,\n        }, true, false);\n    };\n    const replace = (value) => {\n        const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n        ids.current = updatedFieldArrayValues.map(generateId);\n        updateValues([...updatedFieldArrayValues]);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, [...updatedFieldArrayValues], (data) => data, {}, true, false);\n    };\n    React.useEffect(() => {\n        control._state.action = false;\n        isWatched(name, control._names) &&\n            control._subjects.state.next({\n                ...control._formState,\n            });\n        if (_actioned.current &&\n            (!getValidationModes(control._options.mode).isOnSubmit ||\n                control._formState.isSubmitted) &&\n            !getValidationModes(control._options.reValidateMode).isOnSubmit) {\n            if (control._options.resolver) {\n                control._runSchema([name]).then((result) => {\n                    const error = get(result.errors, name);\n                    const existingError = get(control._formState.errors, name);\n                    if (existingError\n                        ? (!error && existingError.type) ||\n                            (error &&\n                                (existingError.type !== error.type ||\n                                    existingError.message !== error.message))\n                        : error && error.type) {\n                        error\n                            ? set(control._formState.errors, name, error)\n                            : unset(control._formState.errors, name);\n                        control._subjects.state.next({\n                            errors: control._formState.errors,\n                        });\n                    }\n                });\n            }\n            else {\n                const field = get(control._fields, name);\n                if (field &&\n                    field._f &&\n                    !(getValidationModes(control._options.reValidateMode).isOnSubmit &&\n                        getValidationModes(control._options.mode).isOnSubmit)) {\n                    validateField(field, control._names.disabled, control._formValues, control._options.criteriaMode === VALIDATION_MODE.all, control._options.shouldUseNativeValidation, true).then((error) => !isEmptyObject(error) &&\n                        control._subjects.state.next({\n                            errors: updateFieldArrayRootError(control._formState.errors, error, name),\n                        }));\n                }\n            }\n        }\n        control._subjects.state.next({\n            name,\n            values: cloneObject(control._formValues),\n        });\n        control._names.focus &&\n            iterateFieldsByAction(control._fields, (ref, key) => {\n                if (control._names.focus &&\n                    key.startsWith(control._names.focus) &&\n                    ref.focus) {\n                    ref.focus();\n                    return 1;\n                }\n                return;\n            });\n        control._names.focus = '';\n        control._setValid();\n        _actioned.current = false;\n    }, [fields, name, control]);\n    React.useEffect(() => {\n        !get(control._formValues, name) && control._setFieldArray(name);\n        return () => {\n            const updateMounted = (name, value) => {\n                const field = get(control._fields, name);\n                if (field && field._f) {\n                    field._f.mount = value;\n                }\n            };\n            control._options.shouldUnregister || shouldUnregister\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [updateValues, name, control]),\n        move: React.useCallback(move, [updateValues, name, control]),\n        prepend: React.useCallback(prepend, [updateValues, name, control]),\n        append: React.useCallback(append, [updateValues, name, control]),\n        remove: React.useCallback(remove, [updateValues, name, control]),\n        insert: React.useCallback(insert$1, [updateValues, name, control]),\n        update: React.useCallback(update, [updateValues, name, control]),\n        replace: React.useCallback(replace, [updateValues, name, control]),\n        fields: React.useMemo(() => fields.map((field, index) => ({\n            ...field,\n            [keyName]: ids.current[index] || generateId(),\n        })), [fields, keyName]),\n    };\n}\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm) â€¢ [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useForm(props = {}) {\n    const _formControl = React.useRef(undefined);\n    const _values = React.useRef(undefined);\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        isLoading: isFunction(props.defaultValues),\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        submitCount: 0,\n        dirtyFields: {},\n        touchedFields: {},\n        validatingFields: {},\n        errors: props.errors || {},\n        disabled: props.disabled || false,\n        isReady: false,\n        defaultValues: isFunction(props.defaultValues)\n            ? undefined\n            : props.defaultValues,\n    });\n    if (!_formControl.current) {\n        if (props.formControl) {\n            _formControl.current = {\n                ...props.formControl,\n                formState,\n            };\n            if (props.defaultValues && !isFunction(props.defaultValues)) {\n                props.formControl.reset(props.defaultValues, props.resetOptions);\n            }\n        }\n        else {\n            const { formControl, ...rest } = createFormControl(props);\n            _formControl.current = {\n                ...rest,\n                formState,\n            };\n        }\n    }\n    const control = _formControl.current.control;\n    control._options = props;\n    useIsomorphicLayoutEffect(() => {\n        const sub = control._subscribe({\n            formState: control._proxyFormState,\n            callback: () => updateFormState({ ...control._formState }),\n            reRenderRoot: true,\n        });\n        updateFormState((data) => ({\n            ...data,\n            isReady: true,\n        }));\n        control._formState.isReady = true;\n        return sub;\n    }, [control]);\n    React.useEffect(() => control._disableForm(props.disabled), [control, props.disabled]);\n    React.useEffect(() => {\n        if (props.mode) {\n            control._options.mode = props.mode;\n        }\n        if (props.reValidateMode) {\n            control._options.reValidateMode = props.reValidateMode;\n        }\n    }, [control, props.mode, props.reValidateMode]);\n    React.useEffect(() => {\n        if (props.errors) {\n            control._setErrors(props.errors);\n            control._focusError();\n        }\n    }, [control, props.errors]);\n    React.useEffect(() => {\n        props.shouldUnregister &&\n            control._subjects.state.next({\n                values: control._getWatch(),\n            });\n    }, [control, props.shouldUnregister]);\n    React.useEffect(() => {\n        if (control._proxyFormState.isDirty) {\n            const isDirty = control._getDirty();\n            if (isDirty !== formState.isDirty) {\n                control._subjects.state.next({\n                    isDirty,\n                });\n            }\n        }\n    }, [control, formState.isDirty]);\n    React.useEffect(() => {\n        var _a;\n        if (props.values && !deepEqual(props.values, _values.current)) {\n            control._reset(props.values, {\n                keepFieldsRef: true,\n                ...control._options.resetOptions,\n            });\n            if (!((_a = control._options.resetOptions) === null || _a === void 0 ? void 0 : _a.keepIsValid)) {\n                control._setValid();\n            }\n            _values.current = props.values;\n            updateFormState((state) => ({ ...state }));\n        }\n        else {\n            control._resetDefaultValues();\n        }\n    }, [control, props.values]);\n    React.useEffect(() => {\n        if (!control._state.mount) {\n            control._setValid();\n            control._state.mount = true;\n        }\n        if (control._state.watch) {\n            control._state.watch = false;\n            control._subjects.state.next({ ...control._formState });\n        }\n        control._removeUnmounted();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control);\n    return _formControl.current;\n}\n\n/**\n * Watch component that subscribes to form field changes and re-renders when watched fields update.\n *\n * @param control - The form control object from useForm\n * @param names - Array of field names to watch for changes\n * @param render - The function that receives watched values and returns ReactNode\n * @returns The result of calling render function with watched values\n *\n * @example\n * The `Watch` component only re-render when the values of `foo`, `bar`, and `baz.qux` change.\n * The types of `foo`, `bar`, and `baz.qux` are precisely inferred.\n *\n * ```tsx\n * const { control } = useForm();\n *\n * <Watch\n *   control={control}\n *   names={['foo', 'bar', 'baz.qux']}\n *   render={([foo, bar, baz_qux]) => <div>{foo}{bar}{baz_qux}</div>}\n * />\n * ```\n */\nconst Watch = ({ control, names, render, }) => render(useWatch({ control, name: names }));\n\nexport { Controller, Form, FormProvider, Watch, appendErrors, createFormControl, get, set, useController, useFieldArray, useForm, useFormContext, useFormState, useWatch };\n//# sourceMappingURL=index.esm.mjs.map\n","import{get as e,set as t}from\"react-hook-form\";const r=(t,r,o)=>{if(t&&\"reportValidity\"in t){const s=e(o,r);t.setCustomValidity(s&&s.message||\"\"),t.reportValidity()}},o=(e,t)=>{for(const o in t.fields){const s=t.fields[o];s&&s.ref&&\"reportValidity\"in s.ref?r(s.ref,o,e):s&&s.refs&&s.refs.forEach(t=>r(t,o,e))}},s=(r,s)=>{s.shouldUseNativeValidation&&o(r,s);const n={};for(const o in r){const f=e(s.fields,o),c=Object.assign(r[o]||{},{ref:f&&f.ref});if(i(s.names||Object.keys(r),o)){const r=Object.assign({},e(n,o));t(r,\"root\",c),t(n,o,r)}else t(n,o,c)}return n},i=(e,t)=>{const r=n(t);return e.some(e=>n(e).match(`^${r}\\\\.\\\\d+`))};function n(e){return e.replace(/\\]|\\[/g,\"\")}export{s as toNestErrors,o as validateFieldsNatively};\n//# sourceMappingURL=resolvers.mjs.map\n","import{validateFieldsNatively as r,toNestErrors as e}from\"@hookform/resolvers\";import{appendErrors as o}from\"react-hook-form\";import*as n from\"zod/v4/core\";function t(r,e){try{var o=r()}catch(r){return e(r)}return o&&o.then?o.then(void 0,e):o}function s(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"unionErrors\"in t){var u=t.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"unionErrors\"in t&&t.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n}function i(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"invalid_union\"===t.code&&t.errors.length>0){var u=t.errors[0][0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"invalid_union\"===t.code&&t.errors.forEach(function(e){return e.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n}function a(o,a,u){if(void 0===u&&(u={}),function(r){return\"_def\"in r&&\"object\"==typeof r._def&&\"typeName\"in r._def}(o))return function(n,i,c){try{return Promise.resolve(t(function(){return Promise.resolve(o[\"sync\"===u.mode?\"parse\":\"parseAsync\"](n,a)).then(function(e){return c.shouldUseNativeValidation&&r({},c),{errors:{},values:u.raw?Object.assign({},n):e}})},function(r){if(function(r){return Array.isArray(null==r?void 0:r.issues)}(r))return{values:{},errors:e(s(r.errors,!c.shouldUseNativeValidation&&\"all\"===c.criteriaMode),c)};throw r}))}catch(r){return Promise.reject(r)}};if(function(r){return\"_zod\"in r&&\"object\"==typeof r._zod}(o))return function(s,c,f){try{return Promise.resolve(t(function(){return Promise.resolve((\"sync\"===u.mode?n.parse:n.parseAsync)(o,s,a)).then(function(e){return f.shouldUseNativeValidation&&r({},f),{errors:{},values:u.raw?Object.assign({},s):e}})},function(r){if(function(r){return r instanceof n.$ZodError}(r))return{values:{},errors:e(i(r.issues,!f.shouldUseNativeValidation&&\"all\"===f.criteriaMode),f)};throw r}))}catch(r){return Promise.reject(r)}};throw new Error(\"Invalid input: not a Zod schema\")}export{a as zodResolver};\n//# sourceMappingURL=zod.module.js.map\n","'use client'\n\nimport type * as LabelPrimitive from '@radix-ui/react-label'\nimport { Slot } from '@radix-ui/react-slot'\nimport * as React from 'react'\nimport {\n  Controller,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n  FormProvider,\n  useFormContext,\n  useFormState,\n} from 'react-hook-form'\nimport { Label } from '@/components/ui/label'\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue,\n)\n\n/**\n * @public\n */\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\n/**\n * @public\n */\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error('useFormField should be used within <FormField>')\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue,\n)\n\n/**\n * @public\n */\nfunction FormItem({ className, ...props }: React.ComponentProps<'div'>) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot=\"form-item\"\n        className={cn('grid gap-2', className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  )\n}\n\n/**\n * @public\n */\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn('data-[error=true]:text-destructive', className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction FormDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction FormMessage({ className, ...props }: React.ComponentProps<'p'>) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? '') : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn('text-destructive text-sm', className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","import type { ProviderType } from './types'\n\n/**\n * Provider template for quick setup\n * @public\n */\nexport interface ProviderTemplate {\n  id: ProviderType\n  name: string\n  defaultBaseUrl: string\n  defaultModelId: string\n  supportsImages: boolean\n  contextWindow: number\n  setupGuideUrl?: string\n  apiKeyUrl?: string\n}\n\n/**\n * Available provider templates for quick setup\n * @public\n */\nexport const providerTemplates: ProviderTemplate[] = [\n  {\n    id: 'openai',\n    name: 'OpenAI',\n    defaultBaseUrl: 'https://api.openai.com/v1',\n    defaultModelId: 'gpt-4',\n    supportsImages: true,\n    contextWindow: 128000,\n    apiKeyUrl: 'https://platform.openai.com/api-keys',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/openai',\n  },\n  {\n    id: 'openai-compatible',\n    name: 'OpenAI Compatible',\n    defaultBaseUrl: '',\n    defaultModelId: '',\n    supportsImages: true,\n    contextWindow: 128000,\n  },\n  {\n    id: 'anthropic',\n    name: 'Anthropic',\n    defaultBaseUrl: 'https://api.anthropic.com/v1',\n    defaultModelId: 'claude-3-5-sonnet-20241022',\n    supportsImages: true,\n    contextWindow: 200000,\n    apiKeyUrl: 'https://console.anthropic.com/settings/keys',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/claude',\n  },\n  {\n    id: 'google',\n    name: 'Gemini',\n    defaultBaseUrl: 'https://generativelanguage.googleapis.com/v1beta',\n    defaultModelId: 'gemini-1.5-pro',\n    supportsImages: true,\n    contextWindow: 1000000,\n    apiKeyUrl: 'https://aistudio.google.com/app/apikey',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/gemini',\n  },\n  {\n    id: 'ollama',\n    name: 'Ollama',\n    defaultBaseUrl: 'http://localhost:11434/v1',\n    defaultModelId: 'llama3.2',\n    supportsImages: false,\n    contextWindow: 128000,\n    setupGuideUrl: 'https://docs.browseros.com/local-LLMs/ollama',\n  },\n  {\n    id: 'openrouter',\n    name: 'OpenRouter',\n    defaultBaseUrl: 'https://openrouter.ai/api/v1',\n    defaultModelId: 'openai/gpt-4-turbo',\n    supportsImages: true,\n    contextWindow: 128000,\n    apiKeyUrl: 'https://openrouter.ai/keys',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/openrouter',\n  },\n  {\n    id: 'lmstudio',\n    name: 'LM Studio',\n    defaultBaseUrl: 'http://localhost:1234/v1',\n    defaultModelId: 'local-model',\n    supportsImages: false,\n    contextWindow: 32000,\n    setupGuideUrl: 'https://docs.browseros.com/local-LLMs/lm-studio',\n  },\n  {\n    id: 'azure',\n    name: 'Azure',\n    defaultBaseUrl: '',\n    defaultModelId: '',\n    supportsImages: true,\n    contextWindow: 128000,\n    apiKeyUrl:\n      'https://portal.azure.com/#view/Microsoft_Azure_ProjectOxford/CognitiveServicesHub/~/OpenAI',\n  },\n  {\n    id: 'bedrock',\n    name: 'AWS Bedrock',\n    defaultBaseUrl: '',\n    defaultModelId: '',\n    supportsImages: true,\n    contextWindow: 200000,\n    setupGuideUrl:\n      'https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started.html',\n  },\n]\n\n/**\n * Provider type options for select dropdowns\n * @public\n */\nexport const providerTypeOptions: { value: ProviderType; label: string }[] = [\n  { value: 'anthropic', label: 'Anthropic' },\n  { value: 'openai', label: 'OpenAI' },\n  { value: 'openai-compatible', label: 'OpenAI Compatible' },\n  { value: 'google', label: 'Gemini' },\n  { value: 'openrouter', label: 'OpenRouter' },\n  { value: 'azure', label: 'Azure' },\n  { value: 'ollama', label: 'Ollama' },\n  { value: 'lmstudio', label: 'LM Studio' },\n  { value: 'bedrock', label: 'AWS Bedrock' },\n  { value: 'browseros', label: 'BrowserOS' },\n]\n\n/**\n * Get provider template by type\n * @public\n */\nexport const getProviderTemplate = (\n  type: ProviderType,\n): ProviderTemplate | undefined => {\n  return providerTemplates.find((t) => t.id === type)\n}\n\n/**\n * Default base URLs for each provider type\n * Auto-fills when user selects a provider type\n */\nexport const DEFAULT_BASE_URLS: Record<ProviderType, string> = {\n  anthropic: 'https://api.anthropic.com/v1',\n  openai: 'https://api.openai.com/v1',\n  'openai-compatible': '',\n  google: 'https://generativelanguage.googleapis.com/v1beta',\n  openrouter: 'https://openrouter.ai/api/v1',\n  azure: '',\n  ollama: 'http://localhost:11434/v1',\n  lmstudio: 'http://localhost:1234/v1',\n  bedrock: '',\n  browseros: '',\n}\n\n/**\n * Get default base URL for a provider type\n * @public\n */\nexport const getDefaultBaseUrlForProviders = (type: ProviderType): string => {\n  return DEFAULT_BASE_URLS[type] || ''\n}\n","import type { ProviderType } from '@/lib/llm-providers/types'\n\n/**\n * Model information with context length\n */\nexport interface ModelInfo {\n  modelId: string\n  contextLength: number\n}\n\n/**\n * Models data organized by provider type (matches backend AIProvider enum)\n */\nexport interface ModelsData {\n  anthropic: ModelInfo[]\n  openai: ModelInfo[]\n  'openai-compatible': ModelInfo[]\n  google: ModelInfo[]\n  openrouter: ModelInfo[]\n  azure: ModelInfo[]\n  ollama: ModelInfo[]\n  lmstudio: ModelInfo[]\n  bedrock: ModelInfo[]\n  browseros: ModelInfo[]\n}\n\n/**\n * Available models per provider with context lengths\n * Based on: https://github.com/browseros-ai/BrowserOS-agent/blob/main/src/options/data/models.ts\n */\nexport const MODELS_DATA: ModelsData = {\n  anthropic: [\n    { modelId: 'claude-sonnet-4-5-20250929', contextLength: 200000 },\n    { modelId: 'claude-sonnet-4-20250514', contextLength: 200000 },\n    { modelId: 'claude-opus-4-20250514', contextLength: 200000 },\n    { modelId: 'claude-3-7-sonnet-20250219', contextLength: 200000 },\n    { modelId: 'claude-3-5-haiku-20241022', contextLength: 200000 },\n  ],\n  openai: [\n    { modelId: 'gpt-5', contextLength: 400000 },\n    { modelId: 'gpt-5-mini', contextLength: 400000 },\n    { modelId: 'gpt-5-nano', contextLength: 400000 },\n    { modelId: 'gpt-4.1', contextLength: 1000000 },\n    { modelId: 'gpt-4.1-mini', contextLength: 1000000 },\n    { modelId: 'o4-mini', contextLength: 200000 },\n    { modelId: 'o3-mini', contextLength: 200000 },\n    { modelId: 'gpt-4o', contextLength: 128000 },\n    { modelId: 'gpt-4o-mini', contextLength: 128000 },\n  ],\n  'openai-compatible': [],\n  google: [\n    { modelId: 'gemini-2.5-flash', contextLength: 1048576 },\n    { modelId: 'gemini-2.5-pro', contextLength: 1048576 },\n  ],\n  openrouter: [\n    { modelId: 'google/gemini-2.5-flash', contextLength: 1048576 },\n    { modelId: 'openai/gpt-4o', contextLength: 128000 },\n    { modelId: 'anthropic/claude-sonnet-4.5', contextLength: 1000000 },\n    { modelId: 'anthropic/claude-sonnet-4', contextLength: 1000000 },\n    { modelId: 'anthropic/claude-3.7-sonnet', contextLength: 200000 },\n    { modelId: 'openai/gpt-oss-120b', contextLength: 128000 },\n    { modelId: 'openai/gpt-oss-20b', contextLength: 128000 },\n    { modelId: 'qwen/qwen3-14b', contextLength: 131072 },\n    { modelId: 'qwen/qwen3-8b', contextLength: 131072 },\n  ],\n  azure: [],\n  ollama: [\n    { modelId: 'qwen3:4b', contextLength: 262144 },\n    { modelId: 'qwen3:8b', contextLength: 40960 },\n    { modelId: 'qwen3:14b', contextLength: 40960 },\n    { modelId: 'gpt-oss:20b', contextLength: 128000 },\n    { modelId: 'gpt-oss:120b', contextLength: 128000 },\n  ],\n  lmstudio: [\n    { modelId: 'openai/gpt-oss-20b', contextLength: 128000 },\n    { modelId: 'openai/gpt-oss-120b', contextLength: 128000 },\n    { modelId: 'qwen/qwen3-vl-8b', contextLength: 131072 },\n  ],\n  bedrock: [],\n  browseros: [],\n}\n\n/**\n * Get models for a specific provider type\n */\nexport function getModelsForProvider(providerType: ProviderType): ModelInfo[] {\n  return MODELS_DATA[providerType] || []\n}\n\n/**\n * Get model options for select dropdown (model IDs + custom option)\n */\nexport function getModelOptions(providerType: ProviderType): string[] {\n  const models = getModelsForProvider(providerType)\n  const modelIds = models.map((m) => m.modelId)\n  return modelIds.length > 0 ? [...modelIds, 'custom'] : ['custom']\n}\n\n/**\n * Get context length for a specific model\n */\nexport function getModelContextLength(\n  providerType: ProviderType,\n  modelId: string,\n): number | undefined {\n  const models = getModelsForProvider(providerType)\n  const model = models.find((m) => m.modelId === modelId)\n  return model?.contextLength\n}\n\n/**\n * Check if model ID is a custom (user-entered) value\n */\nexport function isCustomModel(\n  providerType: ProviderType,\n  modelId: string,\n): boolean {\n  const models = getModelsForProvider(providerType)\n  return !models.some((m) => m.modelId === modelId)\n}\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport { CheckCircle2, ExternalLink, Loader2, XCircle } from 'lucide-react'\nimport { type FC, useEffect, useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod'\nimport { Button } from '@/components/ui/button'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Feature } from '@/lib/browseros/capabilities'\nimport { getAgentServerUrl } from '@/lib/browseros/helpers'\nimport { useCapabilities } from '@/lib/browseros/useCapabilities'\nimport { AI_PROVIDER_ADDED_EVENT } from '@/lib/constants/analyticsEvents'\nimport {\n  getDefaultBaseUrlForProviders,\n  getProviderTemplate,\n  providerTypeOptions,\n} from '@/lib/llm-providers/providerTemplates'\nimport { type TestResult, testProvider } from '@/lib/llm-providers/testProvider'\nimport type { LlmProviderConfig, ProviderType } from '@/lib/llm-providers/types'\nimport { track } from '@/lib/metrics/track'\nimport { getModelContextLength, getModelOptions } from './models'\n\nconst providerTypeEnum = z.enum([\n  'anthropic',\n  'openai',\n  'openai-compatible',\n  'google',\n  'openrouter',\n  'azure',\n  'ollama',\n  'lmstudio',\n  'bedrock',\n  'browseros',\n])\n\n/**\n * Zod schema for provider form validation\n * @public\n */\nexport const providerFormSchema = z\n  .object({\n    type: providerTypeEnum,\n    name: z.string().min(1, 'Provider name is required').max(50),\n    baseUrl: z.string().optional(),\n    modelId: z.string().min(1, 'Model ID is required'),\n    apiKey: z.string().optional(),\n    supportsImages: z.boolean(),\n    contextWindow: z.number().int().min(1000).max(2000000),\n    temperature: z.number().min(0).max(2),\n    // Azure-specific\n    resourceName: z.string().optional(),\n    // Bedrock-specific\n    accessKeyId: z.string().optional(),\n    secretAccessKey: z.string().optional(),\n    region: z.string().optional(),\n    sessionToken: z.string().optional(),\n  })\n  .superRefine((data, ctx) => {\n    // Azure: require either resourceName or baseUrl\n    if (data.type === 'azure') {\n      if (!data.resourceName && !data.baseUrl) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Either Resource Name or Base URL is required',\n          path: ['resourceName'],\n        })\n      }\n      if (!data.apiKey) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'API Key is required for Azure',\n          path: ['apiKey'],\n        })\n      }\n    }\n    // Bedrock: require AWS credentials\n    else if (data.type === 'bedrock') {\n      if (!data.accessKeyId) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Access Key ID is required',\n          path: ['accessKeyId'],\n        })\n      }\n      if (!data.secretAccessKey) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Secret Access Key is required',\n          path: ['secretAccessKey'],\n        })\n      }\n      if (!data.region) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Region is required',\n          path: ['region'],\n        })\n      }\n    }\n    // Other providers: require baseUrl\n    else if (!data.baseUrl) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Base URL is required',\n        path: ['baseUrl'],\n      })\n    } else if (!/^https?:\\/\\/.+/.test(data.baseUrl)) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Must be a valid URL',\n        path: ['baseUrl'],\n      })\n    }\n  })\n\n/**\n * Type for form values\n * @public\n */\nexport type ProviderFormValues = z.infer<typeof providerFormSchema>\n\n/**\n * Props for NewProviderDialog\n * @public\n */\nexport interface NewProviderDialogProps {\n  /** Whether the dialog is open */\n  open: boolean\n  /** Callback when dialog should close */\n  onOpenChange: (open: boolean) => void\n  /** Optional initial values for editing or template prefill */\n  initialValues?: Partial<LlmProviderConfig>\n  /** Callback when provider is saved */\n  onSave: (provider: LlmProviderConfig) => Promise<void>\n}\n\n/**\n * Dialog for configuring a new LLM provider\n * @public\n */\nexport const NewProviderDialog: FC<NewProviderDialogProps> = ({\n  open,\n  onOpenChange,\n  initialValues,\n  onSave,\n}) => {\n  const [isCustomModel, setIsCustomModel] = useState(false)\n  const [isTesting, setIsTesting] = useState(false)\n  const [testResult, setTestResult] = useState<TestResult | null>(null)\n  const { supports } = useCapabilities()\n\n  const filteredProviderTypeOptions = providerTypeOptions.filter((opt) => {\n    if (opt.value === 'openai-compatible') {\n      return supports(Feature.OPENAI_COMPATIBLE_SUPPORT)\n    }\n    return true\n  })\n\n  const form = useForm<ProviderFormValues>({\n    resolver: zodResolver(providerFormSchema),\n    defaultValues: {\n      type: initialValues?.type || 'openai',\n      name: initialValues?.name || '',\n      baseUrl:\n        initialValues?.baseUrl || getDefaultBaseUrlForProviders('openai'),\n      modelId: initialValues?.modelId || '',\n      apiKey: initialValues?.apiKey || '',\n      supportsImages: initialValues?.supportsImages ?? false,\n      contextWindow: initialValues?.contextWindow || 128000,\n      temperature: initialValues?.temperature ?? 0.2,\n      // Azure-specific\n      resourceName: initialValues?.resourceName || '',\n      // Bedrock-specific\n      accessKeyId: initialValues?.accessKeyId || '',\n      secretAccessKey: initialValues?.secretAccessKey || '',\n      region: initialValues?.region || '',\n      sessionToken: initialValues?.sessionToken || '',\n    },\n  })\n\n  const watchedType = form.watch('type')\n  const watchedModelId = form.watch('modelId')\n\n  // Watch credential fields to clear test result when they change\n  const watchedApiKey = form.watch('apiKey')\n  const watchedBaseUrl = form.watch('baseUrl')\n  const watchedResourceName = form.watch('resourceName')\n  const watchedAccessKeyId = form.watch('accessKeyId')\n  const watchedSecretAccessKey = form.watch('secretAccessKey')\n  const watchedRegion = form.watch('region')\n  const watchedSessionToken = form.watch('sessionToken')\n\n  // Clear test result when credential fields change\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional - clear result when any credential changes\n  useEffect(() => {\n    setTestResult(null)\n  }, [\n    watchedType,\n    watchedModelId,\n    watchedApiKey,\n    watchedBaseUrl,\n    watchedResourceName,\n    watchedAccessKeyId,\n    watchedSecretAccessKey,\n    watchedRegion,\n    watchedSessionToken,\n  ])\n\n  // Get model options for current provider type\n  const modelOptions = getModelOptions(watchedType as ProviderType)\n\n  // Handle provider type change (user-initiated via Select)\n  const handleTypeChange = (newType: ProviderType) => {\n    form.setValue('type', newType)\n    const defaultUrl = getDefaultBaseUrlForProviders(newType)\n    if (defaultUrl) {\n      form.setValue('baseUrl', defaultUrl)\n    }\n    form.setValue('modelId', '')\n    setIsCustomModel(false)\n  }\n\n  // Auto-fill context window when model changes\n  useEffect(() => {\n    if (watchedModelId && watchedModelId !== 'custom') {\n      const contextLength = getModelContextLength(\n        watchedType as ProviderType,\n        watchedModelId,\n      )\n      if (contextLength) {\n        form.setValue('contextWindow', contextLength)\n      }\n    }\n  }, [watchedModelId, watchedType, form])\n\n  // Handle model selection (including custom option)\n  const handleModelChange = (value: string) => {\n    if (value === 'custom') {\n      setIsCustomModel(true)\n      form.setValue('modelId', '')\n    } else {\n      setIsCustomModel(false)\n      form.setValue('modelId', value)\n    }\n  }\n\n  // Reset form when initialValues change\n  useEffect(() => {\n    if (initialValues) {\n      form.reset({\n        type: initialValues.type || 'openai',\n        name: initialValues.name || '',\n        baseUrl:\n          initialValues.baseUrl ||\n          getDefaultBaseUrlForProviders(initialValues.type || 'openai'),\n        modelId: initialValues.modelId || '',\n        apiKey: initialValues.apiKey || '',\n        supportsImages: initialValues.supportsImages ?? false,\n        contextWindow: initialValues.contextWindow || 128000,\n        temperature: initialValues.temperature ?? 0.2,\n        // Azure-specific\n        resourceName: initialValues.resourceName || '',\n        // Bedrock-specific\n        accessKeyId: initialValues.accessKeyId || '',\n        secretAccessKey: initialValues.secretAccessKey || '',\n        region: initialValues.region || '',\n        sessionToken: initialValues.sessionToken || '',\n      })\n      setIsCustomModel(false)\n    }\n  }, [initialValues, form])\n\n  // Reset form when dialog opens fresh (no initial values)\n  useEffect(() => {\n    if (open && !initialValues) {\n      const defaultType = 'openai'\n      form.reset({\n        type: defaultType,\n        name: '',\n        baseUrl: getDefaultBaseUrlForProviders(defaultType),\n        modelId: '',\n        apiKey: '',\n        supportsImages: false,\n        contextWindow: 128000,\n        temperature: 0.2,\n        // Azure-specific\n        resourceName: '',\n        // Bedrock-specific\n        accessKeyId: '',\n        secretAccessKey: '',\n        region: '',\n        sessionToken: '',\n      })\n      setIsCustomModel(false)\n    }\n    // Clear test result when dialog opens/closes\n    setTestResult(null)\n  }, [open, initialValues, form])\n\n  const onSubmit = async (values: ProviderFormValues) => {\n    const isNewProvider = !initialValues?.id\n    const provider: LlmProviderConfig = {\n      id: initialValues?.id || crypto.randomUUID(),\n      ...values,\n      createdAt: initialValues?.createdAt || Date.now(),\n      updatedAt: Date.now(),\n    }\n\n    await onSave(provider)\n    if (isNewProvider) {\n      track(AI_PROVIDER_ADDED_EVENT, {\n        provider_type: values.type,\n        model: values.modelId,\n      })\n    }\n    form.reset()\n    onOpenChange(false)\n  }\n\n  // Check if we have enough info to test the connection\n  const canTest = (): boolean => {\n    if (!watchedModelId) return false\n\n    if (watchedType === 'azure') {\n      return !!(watchedResourceName || watchedBaseUrl) && !!watchedApiKey\n    }\n    if (watchedType === 'bedrock') {\n      return !!watchedAccessKeyId && !!watchedSecretAccessKey && !!watchedRegion\n    }\n    // Standard providers need baseUrl, most need apiKey (except ollama/lmstudio)\n    if (!watchedBaseUrl) return false\n    if (!['ollama', 'lmstudio'].includes(watchedType) && !watchedApiKey) {\n      return false\n    }\n    return true\n  }\n\n  const handleTest = async () => {\n    setIsTesting(true)\n    setTestResult(null)\n\n    try {\n      const agentServerUrl = await getAgentServerUrl()\n      const values = form.getValues()\n\n      const result = await testProvider(\n        {\n          id: 'test',\n          type: values.type,\n          name: values.name || 'Test',\n          baseUrl: values.baseUrl,\n          modelId: values.modelId,\n          apiKey: values.apiKey,\n          supportsImages: values.supportsImages,\n          contextWindow: values.contextWindow,\n          temperature: values.temperature,\n          createdAt: Date.now(),\n          updatedAt: Date.now(),\n          resourceName: values.resourceName,\n          accessKeyId: values.accessKeyId,\n          secretAccessKey: values.secretAccessKey,\n          region: values.region,\n          sessionToken: values.sessionToken,\n        },\n        agentServerUrl,\n      )\n\n      setTestResult(result)\n    } catch (error) {\n      setTestResult({\n        success: false,\n        message: error instanceof Error ? error.message : 'Test failed',\n      })\n    } finally {\n      setIsTesting(false)\n    }\n  }\n\n  const providerTemplate = getProviderTemplate(watchedType as ProviderType)\n  const setupGuideUrl = providerTemplate?.setupGuideUrl\n  const providerName = providerTemplate?.name\n\n  const handleSetupGuideClick = (e: React.MouseEvent) => {\n    e.preventDefault()\n    if (setupGuideUrl) chrome.tabs.create({ url: setupGuideUrl })\n  }\n\n  const renderProviderSpecificFields = () => {\n    if (watchedType === 'azure') {\n      return (\n        <>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <FormField\n              control={form.control}\n              name=\"resourceName\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Resource Name *</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"your-resource-name\" {...field} />\n                  </FormControl>\n                  <FormDescription>Azure OpenAI resource name</FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"baseUrl\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Base URL Override</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"Optional custom URL\" {...field} />\n                  </FormControl>\n                  <FormDescription>\n                    Overrides resource name if set\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n          <FormField\n            control={form.control}\n            name=\"apiKey\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>API Key *</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Enter your Azure API key\"\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        </>\n      )\n    }\n\n    if (watchedType === 'bedrock') {\n      return (\n        <>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <FormField\n              control={form.control}\n              name=\"accessKeyId\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Access Key ID *</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"AKIA...\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"secretAccessKey\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Secret Access Key *</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"password\"\n                      placeholder=\"Enter your secret access key\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <FormField\n              control={form.control}\n              name=\"region\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Region *</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"us-east-1\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"sessionToken\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Session Token</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"password\"\n                      placeholder=\"Optional (for STS credentials)\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormDescription>\n                    Required for temporary credentials\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n        </>\n      )\n    }\n\n    // Standard providers (OpenAI, Anthropic, Google, etc.)\n    return (\n      <>\n        <FormField\n          control={form.control}\n          name=\"baseUrl\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Base URL *</FormLabel>\n              <FormControl>\n                <Input placeholder=\"https://api.openai.com/v1\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"apiKey\"\n          render={({ field }) => {\n            const isApiKeyOptional = ['ollama', 'lmstudio'].includes(\n              watchedType,\n            )\n            return (\n              <FormItem>\n                <FormLabel>API Key{isApiKeyOptional ? '' : ' *'}</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder={\n                      isApiKeyOptional\n                        ? 'Enter your API key (optional)'\n                        : 'Enter your API key'\n                    }\n                    {...field}\n                  />\n                </FormControl>\n                <FormDescription>\n                  Your API key is encrypted and stored locally.{' '}\n                  {setupGuideUrl && (\n                    <a\n                      href={setupGuideUrl}\n                      onClick={handleSetupGuideClick}\n                      className=\"inline-flex cursor-pointer items-center gap-1 text-primary hover:underline\"\n                    >\n                      <ExternalLink className=\"h-3 w-3\" />\n                      {providerName} setup guide\n                    </a>\n                  )}\n                </FormDescription>\n                <FormMessage />\n              </FormItem>\n            )\n          }}\n        />\n      </>\n    )\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>\n            {initialValues?.id ? 'Edit Provider' : 'Configure New Provider'}\n          </DialogTitle>\n          <DialogDescription>\n            {initialValues?.id\n              ? 'Update your LLM provider configuration.'\n              : 'Add a new LLM provider configuration with API key and model settings.'}\n          </DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5\">\n            {/* Row 1: Provider Type & Name */}\n            <div className=\"grid gap-4 sm:grid-cols-2\">\n              <FormField\n                control={form.control}\n                name=\"type\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Provider Type *</FormLabel>\n                    <Select\n                      onValueChange={(v) => handleTypeChange(v as ProviderType)}\n                      value={field.value}\n                    >\n                      <FormControl>\n                        <SelectTrigger className=\"w-full\">\n                          <SelectValue placeholder=\"Select provider type\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {filteredProviderTypeOptions.map((opt) => (\n                          <SelectItem key={opt.value} value={opt.value}>\n                            {opt.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Provider Name *</FormLabel>\n                    <FormControl>\n                      <Input placeholder=\"e.g., Work OpenAI\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {renderProviderSpecificFields()}\n\n            {/* Model field - shown for all providers */}\n            <FormField\n              control={form.control}\n              name=\"modelId\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Model *</FormLabel>\n                  {isCustomModel || modelOptions.length === 1 ? (\n                    <>\n                      <FormControl>\n                        <Input\n                          placeholder={\n                            watchedType === 'azure'\n                              ? 'Enter your deployment name'\n                              : watchedType === 'bedrock'\n                                ? 'e.g., anthropic.claude-3-5-sonnet-20241022-v2:0'\n                                : 'Enter custom model ID'\n                          }\n                          {...field}\n                        />\n                      </FormControl>\n                      {modelOptions.length > 1 && (\n                        <Button\n                          type=\"button\"\n                          variant=\"link\"\n                          size=\"sm\"\n                          className=\"h-auto p-0 text-xs\"\n                          onClick={() => setIsCustomModel(false)}\n                        >\n                          â† Back to model list\n                        </Button>\n                      )}\n                    </>\n                  ) : (\n                    <Select\n                      onValueChange={handleModelChange}\n                      value={field.value}\n                    >\n                      <FormControl>\n                        <SelectTrigger className=\"w-full\">\n                          <SelectValue placeholder=\"Select a model\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {modelOptions.map((modelId) => (\n                          <SelectItem key={modelId} value={modelId}>\n                            {modelId === 'custom' ? '+ Custom model' : modelId}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )}\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Model Configuration */}\n            <div className=\"space-y-4 border-border border-t pt-4\">\n              <h4 className=\"font-medium text-sm\">Model Configuration</h4>\n              <FormField\n                control={form.control}\n                name=\"supportsImages\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center gap-2 space-y-0\">\n                    <FormControl>\n                      <Checkbox\n                        checked={field.value}\n                        onCheckedChange={field.onChange}\n                      />\n                    </FormControl>\n                    <FormLabel className=\"font-normal\">\n                      Supports Images\n                    </FormLabel>\n                  </FormItem>\n                )}\n              />\n              <div className=\"grid gap-4 sm:grid-cols-2\">\n                <FormField\n                  control={form.control}\n                  name=\"contextWindow\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Context Window Size</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          {...field}\n                          onChange={(e) =>\n                            field.onChange(Number(e.target.value))\n                          }\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Auto-filled based on model\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"temperature\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Temperature (0-2)</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          step=\"0.1\"\n                          min=\"0\"\n                          max=\"2\"\n                          {...field}\n                          onChange={(e) =>\n                            field.onChange(Number(e.target.value))\n                          }\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Controls response randomness\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n            </div>\n\n            {/* Test Result Banner */}\n            {testResult && (\n              <div\n                className={`flex items-center gap-2 rounded-lg border p-3 text-sm ${\n                  testResult.success\n                    ? 'border-green-200 bg-green-50 text-green-700 dark:border-green-800 dark:bg-green-950 dark:text-green-300'\n                    : 'border-red-200 bg-red-50 text-red-700 dark:border-red-800 dark:bg-red-950 dark:text-red-300'\n                }`}\n              >\n                {testResult.success ? (\n                  <CheckCircle2 className=\"h-4 w-4 shrink-0\" />\n                ) : (\n                  <XCircle className=\"h-4 w-4 shrink-0\" />\n                )}\n                <span className=\"flex-1\">{testResult.message}</span>\n                {testResult.responseTime && (\n                  <span className=\"text-xs opacity-70\">\n                    {testResult.responseTime}ms\n                  </span>\n                )}\n              </div>\n            )}\n\n            <DialogFooter className=\"gap-3\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={handleTest}\n                disabled={!canTest() || isTesting}\n              >\n                {isTesting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                {isTesting ? 'Testing...' : 'Test'}\n              </Button>\n              <Button type=\"submit\" disabled={isTesting}>\n                {initialValues?.id ? 'Update' : 'Save'}\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import type { FC } from 'react'\nimport { Badge } from '@/components/ui/badge'\nimport { ProviderIcon } from '@/lib/llm-providers/providerIcons'\nimport type { ProviderTemplate } from '@/lib/llm-providers/providerTemplates'\n\ninterface ProviderTemplateCardProps {\n  template: ProviderTemplate\n  onUseTemplate: (template: ProviderTemplate) => void\n}\n\nexport const ProviderTemplateCard: FC<ProviderTemplateCardProps> = ({\n  template,\n  onUseTemplate,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onUseTemplate(template)}\n      className=\"group flex w-full items-center justify-between rounded-lg border border-border bg-background p-4 text-left transition-all hover:border-[var(--accent-orange)] hover:shadow-md\"\n    >\n      <div className=\"flex items-center gap-3 text-muted-foreground group-hover:text-[var(--accent-orange)]\">\n        <ProviderIcon type={template.id} size={28} />\n        <span className=\"font-medium text-foreground\">{template.name}</span>\n      </div>\n      <Badge\n        variant=\"outline\"\n        className=\"rounded-md px-3 py-1 transition-colors group-hover:border-[var(--accent-orange)] group-hover:text-[var(--accent-orange)]\"\n      >\n        USE\n      </Badge>\n    </button>\n  )\n}\n","import { ChevronDown } from 'lucide-react'\nimport type { FC } from 'react'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\nimport { Feature } from '@/lib/browseros/capabilities'\nimport { useCapabilities } from '@/lib/browseros/useCapabilities'\nimport {\n  type ProviderTemplate,\n  providerTemplates,\n} from '@/lib/llm-providers/providerTemplates'\nimport { cn } from '@/lib/utils'\nimport { ProviderTemplateCard } from './ProviderTemplateCard'\n\ninterface ProviderTemplatesSectionProps {\n  onUseTemplate: (template: ProviderTemplate) => void\n}\n\nexport const ProviderTemplatesSection: FC<ProviderTemplatesSectionProps> = ({\n  onUseTemplate,\n}) => {\n  const { supports } = useCapabilities()\n\n  const filteredTemplates = providerTemplates.filter((template) => {\n    if (template.id === 'openai-compatible') {\n      return supports(Feature.OPENAI_COMPATIBLE_SUPPORT)\n    }\n    return true\n  })\n\n  return (\n    <Collapsible defaultOpen className=\"group/collapsible\">\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <CollapsibleTrigger className=\"mb-4 flex w-full items-center justify-between text-left\">\n          <div>\n            <h3 className=\"font-semibold text-lg\">Quick provider templates</h3>\n            <p className=\"text-muted-foreground text-sm\">\n              {filteredTemplates.length} templates available\n            </p>\n          </div>\n          <ChevronDown\n            className={cn(\n              'h-5 w-5 transition-transform',\n              'group-data-[state=open]/collapsible:rotate-180',\n            )}\n          />\n        </CollapsibleTrigger>\n\n        <CollapsibleContent>\n          <div className=\"mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n            {filteredTemplates.map((template) => (\n              <ProviderTemplateCard\n                key={template.id}\n                template={template}\n                onUseTemplate={onUseTemplate}\n              />\n            ))}\n          </div>\n        </CollapsibleContent>\n      </div>\n    </Collapsible>\n  )\n}\n","import { type FC, useState } from 'react'\nimport { toast } from 'sonner'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport { getAgentServerUrl } from '@/lib/browseros/helpers'\nimport type { ProviderTemplate } from '@/lib/llm-providers/providerTemplates'\nimport { testProvider } from '@/lib/llm-providers/testProvider'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\nimport { useLlmProviders } from '@/lib/llm-providers/useLlmProviders'\nimport { ConfiguredProvidersList } from './ConfiguredProvidersList'\nimport { LlmProvidersHeader } from './LlmProvidersHeader'\nimport { NewProviderDialog } from './NewProviderDialog'\nimport { ProviderTemplatesSection } from './ProviderTemplatesSection'\n\n/**\n * AI Settings page for managing LLM providers\n * @public\n */\nexport const AISettingsPage: FC = () => {\n  const {\n    providers,\n    defaultProviderId,\n    saveProvider,\n    setDefaultProvider,\n    deleteProvider,\n  } = useLlmProviders()\n\n  const [isNewDialogOpen, setIsNewDialogOpen] = useState(false)\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\n  const [templateValues, setTemplateValues] = useState<\n    Partial<LlmProviderConfig> | undefined\n  >()\n  const [editingProvider, setEditingProvider] =\n    useState<LlmProviderConfig | null>(null)\n  const [providerToDelete, setProviderToDelete] =\n    useState<LlmProviderConfig | null>(null)\n  const [testingProviderId, setTestingProviderId] = useState<string | null>(\n    null,\n  )\n\n  const handleAddProvider = () => {\n    setTemplateValues(undefined)\n    setIsNewDialogOpen(true)\n  }\n\n  const handleUseTemplate = (template: ProviderTemplate) => {\n    setTemplateValues({\n      type: template.id,\n      name: template.name,\n      baseUrl: template.defaultBaseUrl,\n      modelId: template.defaultModelId,\n      supportsImages: template.supportsImages,\n      contextWindow: template.contextWindow,\n      temperature: 0.2,\n    })\n    setIsNewDialogOpen(true)\n  }\n\n  const handleEditProvider = (provider: LlmProviderConfig) => {\n    setEditingProvider(provider)\n    setIsEditDialogOpen(true)\n  }\n\n  const handleDeleteProvider = (provider: LlmProviderConfig) => {\n    setProviderToDelete(provider)\n  }\n\n  const confirmDeleteProvider = async () => {\n    if (providerToDelete) {\n      await deleteProvider(providerToDelete.id)\n      setProviderToDelete(null)\n    }\n  }\n\n  const handleSaveProvider = async (provider: LlmProviderConfig) => {\n    await saveProvider(provider)\n  }\n\n  const handleSelectProvider = (providerId: string) => {\n    setDefaultProvider(providerId)\n  }\n\n  const handleTestProvider = async (provider: LlmProviderConfig) => {\n    setTestingProviderId(provider.id)\n\n    try {\n      const agentServerUrl = await getAgentServerUrl()\n      const result = await testProvider(provider, agentServerUrl)\n\n      if (result.success) {\n        toast.success('Test Successful', {\n          description: (\n            <span className=\"text-green-600 text-sm dark:text-green-400\">\n              {result.message}\n            </span>\n          ),\n          duration: 3000,\n        })\n      } else {\n        toast.error('Test Failed', {\n          description: (\n            <span className=\"text-red-600 text-sm dark:text-red-400\">\n              {result.message}\n            </span>\n          ),\n          duration: 3000,\n        })\n      }\n    } catch (error) {\n      toast.error('Test Failed', {\n        description: (\n          <span className=\"text-red-600 text-sm dark:text-red-400\">\n            {error instanceof Error ? error.message : 'Unknown error'}\n          </span>\n        ),\n        duration: 3000,\n      })\n    }\n\n    setTestingProviderId(null)\n  }\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <LlmProvidersHeader\n        providers={providers}\n        defaultProviderId={defaultProviderId}\n        onDefaultProviderChange={setDefaultProvider}\n        onAddProvider={handleAddProvider}\n      />\n\n      <ProviderTemplatesSection onUseTemplate={handleUseTemplate} />\n\n      <ConfiguredProvidersList\n        providers={providers}\n        selectedProviderId={defaultProviderId}\n        testingProviderId={testingProviderId}\n        onSelectProvider={handleSelectProvider}\n        onTestProvider={handleTestProvider}\n        onEditProvider={handleEditProvider}\n        onDeleteProvider={handleDeleteProvider}\n      />\n\n      <NewProviderDialog\n        open={isNewDialogOpen}\n        onOpenChange={setIsNewDialogOpen}\n        initialValues={templateValues}\n        onSave={handleSaveProvider}\n      />\n\n      <NewProviderDialog\n        open={isEditDialogOpen}\n        onOpenChange={setIsEditDialogOpen}\n        initialValues={editingProvider ?? undefined}\n        onSave={handleSaveProvider}\n      />\n\n      <AlertDialog\n        open={!!providerToDelete}\n        onOpenChange={(open) => !open && setProviderToDelete(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Provider</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete \"{providerToDelete?.name}\"? This\n              action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={confirmDeleteProvider}>\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n","import type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'field-sizing-content flex min-h-16 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-xs outline-none transition-[color,box-shadow] placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 md:text-sm dark:bg-input/30 dark:aria-invalid:ring-destructive/40',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport type { FC } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\n\nconst formSchema = z.object({\n  name: z.string().min(1, 'Server name is required'),\n  url: z.string().url('Please enter a valid URL'),\n  description: z.string().optional(),\n})\n\ntype FormValues = z.infer<typeof formSchema>\n\ninterface AddCustomMCPDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onAddServer: (config: {\n    name: string\n    url: string\n    description: string\n  }) => void\n}\n\nexport const AddCustomMCPDialog: FC<AddCustomMCPDialogProps> = ({\n  open,\n  onOpenChange,\n  onAddServer,\n}) => {\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: '',\n      url: '',\n      description: '',\n    },\n  })\n\n  const handleOpenChange = (isOpen: boolean) => {\n    if (!isOpen) {\n      form.reset()\n    }\n    onOpenChange(isOpen)\n  }\n\n  const onSubmit = (values: FormValues) => {\n    onAddServer({\n      name: values.name,\n      url: values.url,\n      description: values.description ?? '',\n    })\n    form.reset()\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={handleOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Add Custom MCP Server</DialogTitle>\n          <DialogDescription>\n            Configure your custom MCP server connection\n          </DialogDescription>\n        </DialogHeader>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Server Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"My Custom MCP\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"url\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Server URL</FormLabel>\n                  <FormDescription>(only supports HTTP)</FormDescription>\n                  <FormControl>\n                    <Input\n                      type=\"url\"\n                      placeholder=\"http://mcp.example.com\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"description\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Description (Optional)</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"Describe what this server does...\"\n                      rows={3}\n                      className=\"resize-none\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => handleOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"bg-[var(--accent-orange)] text-white hover:bg-[var(--accent-orange-bright)]\"\n              >\n                Add Server\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { Plus, Server } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\ninterface AddManagedMCPDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  serversList?: { name: string; description: string }[]\n  onAddServer: (args: { name: string; description: string }) => void\n}\n\nexport const AddManagedMCPDialog: FC<AddManagedMCPDialogProps> = ({\n  open,\n  onOpenChange,\n  serversList,\n  onAddServer,\n}) => {\n  const handleAddServer = (args: { name: string; description: string }) => {\n    onAddServer(args)\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Enable built-in MCP Server</DialogTitle>\n          <DialogDescription>\n            Select a built-in MCP server to enable\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"styled-scrollbar max-h-[400px] w-full space-y-2 overflow-y-auto\">\n          {serversList?.map((args) => {\n            const { name: serverName, description } = args\n            return (\n              <Button\n                key={serverName}\n                variant=\"outline\"\n                onClick={() => handleAddServer(args)}\n                className=\"group h-auto w-full items-center gap-3 p-3 hover:border-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/5\"\n              >\n                <Server className=\"h-5 w-5 shrink-0 text-muted-foreground\" />\n                <div className=\"flex w-[calc(100%-64px)] flex-1 flex-col items-start gap-1\">\n                  <span className=\"font-medium\">{serverName}</span>\n                  {description && (\n                    <p className=\"line-clamp-1 w-full text-ellipsis text-left text-muted-foreground text-xs\">\n                      {description}\n                    </p>\n                  )}\n                </div>\n                <Plus className=\"h-4 w-4 shrink-0 text-muted-foreground\" />\n              </Button>\n            )\n          }) ?? null}\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { ChevronDown, Loader2, Plus, Server } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\n\ninterface AvailableManagedServersProps {\n  availableServers?: { name: string; description: string }[]\n  onAddServer: (args: { name: string; description: string }) => void\n  isLoading?: boolean\n}\n\nexport const AvailableManagedServers: FC<AvailableManagedServersProps> = ({\n  availableServers,\n  onAddServer,\n  isLoading,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <CollapsibleTrigger className=\"flex w-full cursor-pointer items-center justify-between hover:opacity-50\">\n          <div className=\"flex flex-col items-start\">\n            <h3 className=\"font-semibold text-lg\">Built-in Servers</h3>\n            <p className=\"text-muted-foreground text-sm\">\n              {isLoading\n                ? 'Loading...'\n                : `${availableServers?.length} servers available`}\n            </p>\n          </div>\n          <ChevronDown\n            className={`h-5 w-5 text-muted-foreground transition-transform duration-200 ${\n              isOpen ? 'rotate-180' : ''\n            }`}\n          />\n        </CollapsibleTrigger>\n\n        <CollapsibleContent className=\"pt-4\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n            </div>\n          ) : (\n            <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n              {availableServers?.map((args) => {\n                const { name: serverName, description } = args\n                return (\n                  <Button\n                    key={serverName}\n                    variant=\"outline\"\n                    onClick={() => onAddServer(args)}\n                    className=\"group h-auto flex-col items-start gap-2 p-4 hover:border-[var(--accent-orange)]\"\n                  >\n                    <div className=\"flex w-full items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <Server className=\"h-5 w-5 text-muted-foreground transition-colors group-hover:text-[var(--accent-orange)]\" />\n                        <span className=\"font-medium\">{serverName}</span>\n                      </div>\n                      <Plus className=\"h-4 w-4 text-muted-foreground transition-colors group-hover:text-[var(--accent-orange)]\" />\n                    </div>\n                    {description && (\n                      <p className=\"line-clamp-1 max-w-48 text-ellipsis text-left text-muted-foreground text-xs\">\n                        {description}\n                      </p>\n                    )}\n                  </Button>\n                )\n              }) ?? null}\n            </div>\n          )}\n        </CollapsibleContent>\n      </div>\n    </Collapsible>\n  )\n}\n","import React, { useState, useRef, useCallback } from 'react';\nimport useSWR, { useSWRConfig } from '../index/index.mjs';\nimport { IS_REACT_LEGACY, useIsomorphicLayoutEffect, withMiddleware, serialize, mergeObjects, getTimestamp, UNDEFINED } from '../_internal/index.mjs';\n\nconst startTransition = IS_REACT_LEGACY ? (cb)=>{\n    cb();\n} : React.startTransition;\n/**\n * An implementation of state with dependency-tracking.\n * @param initialState - The initial state object.\n */ const useStateWithDeps = (initialState)=>{\n    const [, rerender] = useState({});\n    const unmountedRef = useRef(false);\n    const stateRef = useRef(initialState);\n    // If a state property (data, error, or isValidating) is accessed by the render\n    // function, we mark the property as a dependency so if it is updated again\n    // in the future, we trigger a rerender.\n    // This is also known as dependency-tracking.\n    const stateDependenciesRef = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    /**\n   * Updates state and triggers re-render if necessary.\n   * @param payload To change stateRef, pass the values explicitly to setState:\n   * @example\n   * ```js\n   * setState({\n   *   isValidating: false\n   *   data: newData // set data to newData\n   *   error: undefined // set error to undefined\n   * })\n   *\n   * setState({\n   *   isValidating: false\n   *   data: undefined // set data to undefined\n   *   error: err // set error to err\n   * })\n   * ```\n   */ const setState = useCallback((payload)=>{\n        let shouldRerender = false;\n        const currentState = stateRef.current;\n        for(const key in payload){\n            if (Object.prototype.hasOwnProperty.call(payload, key)) {\n                const k = key;\n                // If the property has changed, update the state and mark rerender as\n                // needed.\n                if (currentState[k] !== payload[k]) {\n                    currentState[k] = payload[k];\n                    // If the property is accessed by the component, a rerender should be\n                    // triggered.\n                    if (stateDependenciesRef.current[k]) {\n                        shouldRerender = true;\n                    }\n                }\n            }\n        }\n        if (shouldRerender && !unmountedRef.current) {\n            rerender({});\n        }\n    }, []);\n    useIsomorphicLayoutEffect(()=>{\n        unmountedRef.current = false;\n        return ()=>{\n            unmountedRef.current = true;\n        };\n    });\n    return [\n        stateRef,\n        stateDependenciesRef.current,\n        setState\n    ];\n};\n\nconst mutation = ()=>(key, fetcher, config = {})=>{\n        const { mutate } = useSWRConfig();\n        const keyRef = useRef(key);\n        const fetcherRef = useRef(fetcher);\n        const configRef = useRef(config);\n        // Ditch all mutation results that happened earlier than this timestamp.\n        const ditchMutationsUntilRef = useRef(0);\n        const [stateRef, stateDependencies, setState] = useStateWithDeps({\n            data: UNDEFINED,\n            error: UNDEFINED,\n            isMutating: false\n        });\n        const currentState = stateRef.current;\n        const trigger = useCallback(async (arg, opts)=>{\n            const [serializedKey, resolvedKey] = serialize(keyRef.current);\n            if (!fetcherRef.current) {\n                throw new Error('Canâ€™t trigger the mutation: missing fetcher.');\n            }\n            if (!serializedKey) {\n                throw new Error('Canâ€™t trigger the mutation: missing key.');\n            }\n            // Disable cache population by default.\n            const options = mergeObjects(mergeObjects({\n                populateCache: false,\n                throwOnError: true\n            }, configRef.current), opts);\n            // Trigger a mutation, and also track the timestamp. Any mutation that happened\n            // earlier this timestamp should be ignored.\n            const mutationStartedAt = getTimestamp();\n            ditchMutationsUntilRef.current = mutationStartedAt;\n            setState({\n                isMutating: true\n            });\n            try {\n                const data = await mutate(serializedKey, fetcherRef.current(resolvedKey, {\n                    arg\n                }), // We must throw the error here so we can catch and update the states.\n                mergeObjects(options, {\n                    throwOnError: true\n                }));\n                // If it's reset after the mutation, we don't broadcast any state change.\n                if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                    startTransition(()=>setState({\n                            data,\n                            isMutating: false,\n                            error: undefined\n                        }));\n                    options.onSuccess == null ? void 0 : options.onSuccess.call(options, data, serializedKey, options);\n                }\n                return data;\n            } catch (error) {\n                // If it's reset after the mutation, we don't broadcast any state change\n                // or throw because it's discarded.\n                if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                    startTransition(()=>setState({\n                            error: error,\n                            isMutating: false\n                        }));\n                    options.onError == null ? void 0 : options.onError.call(options, error, serializedKey, options);\n                    if (options.throwOnError) {\n                        throw error;\n                    }\n                }\n            }\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        []);\n        const reset = useCallback(()=>{\n            ditchMutationsUntilRef.current = getTimestamp();\n            setState({\n                data: UNDEFINED,\n                error: UNDEFINED,\n                isMutating: false\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n        useIsomorphicLayoutEffect(()=>{\n            keyRef.current = key;\n            fetcherRef.current = fetcher;\n            configRef.current = config;\n        });\n        // We don't return `mutate` here as it can be pretty confusing (e.g. people\n        // calling `mutate` but they actually mean `trigger`).\n        // And also, `mutate` relies on the useSWR hook to exist too.\n        return {\n            trigger,\n            reset,\n            get data () {\n                stateDependencies.data = true;\n                return currentState.data;\n            },\n            get error () {\n                stateDependencies.error = true;\n                return currentState.error;\n            },\n            get isMutating () {\n                stateDependencies.isMutating = true;\n                return currentState.isMutating;\n            }\n        };\n    };\n/**\n * A hook to define and manually trigger remote mutations like POST, PUT, DELETE and PATCH use cases.\n *\n * @link https://swr.vercel.app/docs/mutation\n * @example\n * ```jsx\n * import useSWRMutation from 'swr/mutation'\n *\n * const {\n *   data,\n *   error,\n *   trigger,\n *   reset,\n *   isMutating\n * } = useSWRMutation(key, fetcher, options?)\n * ```\n */ const useSWRMutation = withMiddleware(useSWR, mutation);\n\nexport { useSWRMutation as default };\n","import useSWRMutation from 'swr/mutation'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface AddServerResponse {\n  success: boolean\n  serverName: string\n  strataId: string\n  addedServers: string[]\n  oauthUrl?: string\n}\n\ninterface AddServerError {\n  error: string\n}\n\nconst addManagedServer = async (\n  url: string,\n  { arg }: { arg: { serverName: string } },\n): Promise<AddServerResponse> => {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ serverName: arg.serverName }),\n  })\n\n  if (!response.ok) {\n    const errorData = (await response.json()) as AddServerError\n    throw new Error(errorData.error || 'Failed to add server')\n  }\n\n  return response.json() as Promise<AddServerResponse>\n}\n\nexport const useAddManagedServer = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWRMutation(\n    agentServerUrl ? `${agentServerUrl}/klavis/servers/add` : null,\n    addManagedServer,\n  )\n}\n","import useSWR from 'swr'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface McpServerResponse {\n  servers: {\n    name: string\n    description: string\n  }[]\n  count: number\n}\n\nconst getAllManagedServers = async ([hostUrl]: [hostUrl: string]) => {\n  const response = await fetch(`${hostUrl}/klavis/servers`)\n  const servers = (await response.json()) as McpServerResponse\n  return servers\n}\n\nexport const useGetMCPServersList = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWR(\n    agentServerUrl ? [agentServerUrl, 'klavis/servers'] : null,\n    getAllManagedServers,\n    {\n      keepPreviousData: true,\n    },\n  )\n}\n","import useSWR from 'swr'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface UserMCPIntegrationsList {\n  integrations: {\n    name: string\n    is_authenticated: boolean\n  }[]\n  count: number\n}\n\nconst getUserMCPIntegrations = async ([hostUrl]: [hostUrl: string]) => {\n  const response = await fetch(`${hostUrl}/klavis/user-integrations`)\n  const data = (await response.json()) as UserMCPIntegrationsList\n  return data\n}\n\nexport const useGetUserMCPIntegrations = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWR(\n    agentServerUrl ? [agentServerUrl, 'klavis/user-integrations'] : null,\n    getUserMCPIntegrations,\n    {\n      keepPreviousData: true,\n      revalidateOnFocus: true,\n    },\n  )\n}\n","import useSWRMutation from 'swr/mutation'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface RemoveServerResponse {\n  success: boolean\n  serverName: string\n}\n\ninterface RemoveServerError {\n  error: string\n}\n\nconst removeManagedServer = async (\n  url: string,\n  { arg }: { arg: { serverName: string } },\n): Promise<RemoveServerResponse> => {\n  const response = await fetch(url, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ serverName: arg.serverName }),\n  })\n\n  if (!response.ok) {\n    const errorData = (await response.json()) as RemoveServerError\n    throw new Error(errorData.error || 'Failed to remove server')\n  }\n\n  return response.json() as Promise<RemoveServerResponse>\n}\n\nexport const useRemoveManagedServer = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWRMutation(\n    agentServerUrl ? `${agentServerUrl}/klavis/servers/remove` : null,\n    removeManagedServer,\n  )\n}\n","import { Check, Loader2, Plus, Server, Trash2 } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { toast } from 'sonner'\nimport { Button } from '@/components/ui/button'\nimport { useMcpServers } from '@/lib/mcp/mcpServerStorage'\nimport { sentry } from '@/lib/sentry/sentry'\nimport { AddCustomMCPDialog } from './AddCustomMCPDialog'\nimport { AddManagedMCPDialog } from './AddManagedMCPDialog'\nimport { AvailableManagedServers } from './AvailableManagedServers'\nimport { useAddManagedServer } from './useAddManagedServer'\nimport { useGetMCPServersList } from './useGetMCPServersList'\nimport { useGetUserMCPIntegrations } from './useGetUserMCPIntegrations'\nimport { useRemoveManagedServer } from './useRemoveManagedServer'\n\nconst failedToAddMcp = (serverName: string, e: unknown) => {\n  toast.error(`Failed to add MCP Server: ${serverName}`)\n  sentry.captureException(e)\n}\n\nconst failedToRemoveMcp = (serverName: string, e: unknown) => {\n  toast.error(`Failed to remove MCP Server: ${serverName}`)\n  sentry.captureException(e)\n}\n\n/**\n * @public\n */\nexport const ConnectMCP: FC = () => {\n  const { servers: createdServers, addServer, removeServer } = useMcpServers()\n  const [addingManagedMcp, setAddingManagedMcp] = useState(false)\n  const [addingCustomMcp, setAddingCustomMcp] = useState(false)\n  const [deletingServerId, setDeletingServerId] = useState<string | null>(null)\n\n  const { trigger: addManagedServerMutation } = useAddManagedServer()\n  const { trigger: removeManagedServerMutation } = useRemoveManagedServer()\n\n  const { data: serversList } = useGetMCPServersList()\n\n  const { data: userMCPIntegrations, isLoading: isUserMCPIntegrationsLoading } =\n    useGetUserMCPIntegrations()\n\n  const openAuthUrlForMCP = async (mcpName: string) => {\n    try {\n      const response = await addManagedServerMutation({\n        serverName: mcpName,\n      })\n      const authUrl = response.oauthUrl\n      if (!authUrl) {\n        failedToAddMcp(mcpName, 'No auth URL returned')\n        return\n      }\n\n      window.open(authUrl, '_blank')?.focus()\n    } catch (e) {\n      failedToAddMcp(mcpName, e)\n    }\n  }\n\n  const addManagedServer = async ({\n    name,\n    description,\n  }: {\n    name: string\n    description: string\n  }) => {\n    try {\n      const response = await addManagedServerMutation({\n        serverName: name,\n      })\n      const authUrl = response.oauthUrl\n      if (!authUrl) {\n        failedToAddMcp(name, 'No auth URL returned')\n        return\n      }\n\n      window.open(authUrl, '_blank')?.focus()\n\n      addServer({\n        id: Date.now().toString(),\n        displayName: `${name} MCP`,\n        type: 'managed',\n        managedServerName: name,\n        managedServerDescription: description,\n      })\n    } catch (e) {\n      failedToAddMcp(name, e)\n    }\n  }\n\n  const deleteManagedServer = async ({\n    id,\n    name,\n  }: {\n    id: string\n    name: string\n  }) => {\n    setDeletingServerId(id)\n    try {\n      const response = await removeManagedServerMutation({\n        serverName: name,\n      })\n      if (response.success) {\n        removeServer(id)\n      } else {\n        failedToRemoveMcp(name, 'Success not returned from server')\n      }\n    } catch (e) {\n      failedToRemoveMcp(name, e)\n    } finally {\n      setDeletingServerId(null)\n    }\n  }\n\n  const addCustomServer = (config: {\n    name: string\n    url: string\n    description: string\n  }) => {\n    addServer({\n      id: Date.now().toString(),\n      displayName: config.name,\n      type: 'custom',\n      config: {\n        url: config.url,\n        description: config.description,\n      },\n    })\n  }\n\n  const availableServers = serversList?.servers.filter((eachServer) => {\n    const serverName = eachServer.name\n    if (\n      createdServers.find((server) => server.managedServerName === serverName)\n    ) {\n      return false\n    }\n    return true\n  })\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      {/* Header */}\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <div className=\"flex items-start gap-4\">\n          <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n            <Server className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n          </div>\n          <div className=\"flex-1\">\n            <h2 className=\"mb-1 font-semibold text-xl\">MCP Servers</h2>\n            <p className=\"mb-6 text-muted-foreground text-sm\">\n              Connect BrowserOS assistant to MCP servers to send email, schedule\n              calendar events, write docs, and more\n            </p>\n\n            <div className=\"flex flex-wrap gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setAddingManagedMcp(true)}\n                className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                <span>Enable built-in MCP</span>\n              </Button>\n\n              <Button\n                variant=\"outline\"\n                onClick={() => setAddingCustomMcp(true)}\n              >\n                <Plus className=\"h-4 w-4\" />\n                <span>Add Custom MCP</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Created Servers */}\n      {createdServers.length > 0 && (\n        <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n          <h3 className=\"mb-4 font-semibold text-lg\">Your MCP Servers</h3>\n          <div className=\"space-y-3\">\n            {createdServers.map((server) => (\n              <div\n                key={server.id}\n                className=\"flex items-center gap-4 rounded-lg border border-border bg-background p-4 transition-all hover:border-[var(--accent-orange)]/50 hover:shadow-sm\"\n              >\n                <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[var(--accent-orange)]/10\">\n                  <Server className=\"h-5 w-5 text-[var(--accent-orange)]\" />\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"mb-1 flex items-center gap-2\">\n                    <span className=\"font-semibold\">{server.displayName}</span>\n                    <span\n                      className={`rounded px-2 py-0.5 font-medium text-xs ${\n                        server.type === 'managed'\n                          ? 'bg-[var(--accent-orange)]/10 text-[var(--accent-orange)]'\n                          : 'bg-muted text-muted-foreground'\n                      }`}\n                    >\n                      {server.type === 'managed' ? 'Built-in' : 'Custom'}\n                    </span>\n                  </div>\n                  <p className=\"text-muted-foreground text-sm\">\n                    {server.managedServerDescription ||\n                      server.config?.description ||\n                      server.config?.url}\n                  </p>\n                </div>\n                {server.type === 'managed' &&\n                  (isUserMCPIntegrationsLoading ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n                  ) : userMCPIntegrations?.integrations?.find(\n                      (i) => i.name === server.managedServerName,\n                    )?.is_authenticated ? (\n                    <span className=\"flex items-center gap-1 rounded-full bg-green-500/10 px-2 py-1 font-medium text-green-600 text-xs\">\n                      <Check className=\"h-3 w-3\" />\n                      Authenticated\n                    </span>\n                  ) : (\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() =>\n                        server.managedServerName &&\n                        openAuthUrlForMCP(server.managedServerName)\n                      }\n                    >\n                      Authenticate\n                    </Button>\n                  ))}\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  disabled={deletingServerId === server.id}\n                  onClick={() => {\n                    if (server.type === 'managed' && server.managedServerName) {\n                      deleteManagedServer({\n                        id: server.id,\n                        name: server.managedServerName,\n                      })\n                    } else {\n                      removeServer(server.id)\n                    }\n                  }}\n                  className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive\"\n                  title=\"Remove server\"\n                >\n                  {deletingServerId === server.id ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  ) : (\n                    <Trash2 className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <AvailableManagedServers\n        availableServers={availableServers}\n        onAddServer={addManagedServer}\n        isLoading={false}\n      />\n\n      <AddManagedMCPDialog\n        open={addingManagedMcp}\n        onOpenChange={setAddingManagedMcp}\n        serversList={availableServers}\n        onAddServer={addManagedServer}\n      />\n\n      <AddCustomMCPDialog\n        open={addingCustomMcp}\n        onOpenChange={setAddingCustomMcp}\n        onAddServer={addCustomServer}\n      />\n    </div>\n  )\n}\n","import {\n  Bot,\n  Info,\n  type LucideIcon,\n  Menu,\n  MessageSquare,\n  PlugZap,\n  RotateCcw,\n  Search,\n  Server,\n  X,\n} from 'lucide-react'\nimport type { FC, HTMLAttributeAnchorTarget } from 'react'\nimport { useState } from 'react'\nimport { NavLink, Outlet, useLocation } from 'react-router'\nimport { ThemeToggle } from '@/components/elements/theme-toggle'\nimport { Feature } from '@/lib/browseros/capabilities'\nimport { useCapabilities } from '@/lib/browseros/useCapabilities'\n\ntype NavItem = {\n  name: string\n  to: string\n  icon: LucideIcon\n  enabled: boolean\n  target?: HTMLAttributeAnchorTarget\n  feature?: Feature\n}\n\nconst navigationItems: NavItem[] = [\n  {\n    name: 'BrowserOS AI',\n    to: '/ai',\n    icon: Bot,\n    enabled: true,\n  },\n  {\n    name: 'LLM Chat & Hub',\n    to: '/chat',\n    icon: MessageSquare,\n    enabled: true,\n  },\n  {\n    name: 'Search Engines',\n    to: '/search',\n    icon: Search,\n    enabled: false,\n  },\n  {\n    name: 'Connect with MCP',\n    to: '/connect-mcp',\n    icon: PlugZap,\n    enabled: true,\n    feature: Feature.MANAGED_MCP_SUPPORT,\n  },\n  {\n    name: 'BrowserOS MCP',\n    to: '/mcp',\n    icon: Server,\n    enabled: true,\n  },\n  {\n    name: 'Revisit Onboarding',\n    to: chrome.runtime.getURL('onboarding.html'),\n    icon: RotateCcw,\n    target: '_blank',\n    enabled: true,\n  },\n]\n\n/**\n * @public\n */\nexport const DashboardLayout: FC = () => {\n  const location = useLocation()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const { supports } = useCapabilities()\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Mobile Header */}\n      <div className=\"sticky top-0 z-40 flex items-center justify-between border-border border-b bg-background px-4 py-3 lg:hidden\">\n        <h1 className=\"font-semibold text-lg\">Settings</h1>\n        <div className=\"flex items-center gap-1\">\n          <button\n            type=\"button\"\n            onClick={() => setSidebarOpen(!sidebarOpen)}\n            className=\"rounded-lg p-2 transition-colors hover:bg-accent\"\n            aria-label=\"Toggle menu\"\n          >\n            {sidebarOpen ? (\n              <X className=\"h-5 w-5\" />\n            ) : (\n              <Menu className=\"h-5 w-5\" />\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Mobile Sidebar Overlay */}\n      {sidebarOpen && (\n        // biome-ignore lint/a11y/useSemanticElements: overlay cannot be a button element\n        <div\n          className=\"fixed inset-0 z-40 bg-black/50 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n          aria-label=\"Close sidebar\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              e.preventDefault()\n              setSidebarOpen(false)\n            }\n          }}\n        />\n      )}\n\n      <div className=\"flex\">\n        {/* Sidebar */}\n        <aside\n          className={`fixed inset-y-0 left-0 z-50 w-64 transform border-border border-r bg-background transition-transform duration-300 lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${\n            sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n          }`}\n        >\n          <div className=\"flex h-full flex-col\">\n            {/* Sidebar Header */}\n            <div className=\"flex items-center justify-between border-border border-b px-6 py-4\">\n              <h1 className=\"font-semibold text-xl\">Settings</h1>\n              <ThemeToggle />\n            </div>\n\n            {/* Navigation */}\n            <nav className=\"flex-1 space-y-1 overflow-y-auto px-3 py-4\">\n              {navigationItems\n                .filter(\n                  (item) =>\n                    item.enabled && (!item.feature || supports(item.feature)),\n                )\n                .map((item) => {\n                  const isActive = location.pathname === item.to\n                  const Icon = item.icon\n                  return (\n                    <NavLink\n                      key={item.to}\n                      to={item.to}\n                      onClick={() => setSidebarOpen(false)}\n                      target={item.target}\n                      rel={item.target ? 'noopener noreferrer' : undefined}\n                      className={`flex items-center gap-3 rounded-lg px-3 py-2.5 font-medium text-sm transition-all ${\n                        isActive\n                          ? 'bg-accent text-accent-foreground shadow-sm'\n                          : 'text-muted-foreground hover:bg-accent/50 hover:text-accent-foreground'\n                      }`}\n                    >\n                      <Icon className=\"h-4 w-4 shrink-0\" />\n                      <span>{item.name}</span>\n                    </NavLink>\n                  )\n                })}\n            </nav>\n\n            {/* Footer - TODO: Add link back when About page is ready */}\n            <div className=\"border-border border-t px-3 py-4\">\n              <a\n                href=\"https://docs.browseros.com/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex items-center gap-3 rounded-lg px-3 py-2.5 font-medium text-muted-foreground text-sm transition-colors hover:bg-accent/50 hover:text-accent-foreground\"\n              >\n                <Info className=\"h-4 w-4 shrink-0\" />\n                <span>About BrowserOS</span>\n              </a>\n            </div>\n          </div>\n        </aside>\n\n        {/* Main Content */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"mx-auto max-w-5xl overflow-hidden px-4 py-8 sm:px-6 lg:px-8\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n    </div>\n  )\n}\n","import { getBrowserOSAdapter } from '@/lib/browseros/adapter'\nimport { BROWSEROS_PREFS } from '@/lib/browseros/prefs'\n\n/** @public */\nexport interface LlmHubProvider {\n  name: string\n  url: string\n}\n\nexport const DEFAULT_PROVIDERS: LlmHubProvider[] = [\n  { name: 'ChatGPT', url: 'https://chatgpt.com' },\n  { name: 'Claude', url: 'https://claude.ai' },\n  { name: 'Grok', url: 'https://grok.com' },\n  { name: 'Gemini', url: 'https://gemini.google.com' },\n  { name: 'Perplexity', url: 'https://www.perplexity.ai' },\n]\n\nexport async function loadProviders(): Promise<{\n  providers: LlmHubProvider[]\n  selectedIndex: number\n}> {\n  try {\n    const adapter = getBrowserOSAdapter()\n\n    const [providersPref, selectedPref] = await Promise.all([\n      adapter.getPref(BROWSEROS_PREFS.THIRD_PARTY_LLM_PROVIDERS),\n      adapter.getPref(BROWSEROS_PREFS.THIRD_PARTY_LLM_SELECTED),\n    ])\n\n    const providers = (providersPref?.value as LlmHubProvider[]) || []\n    const selectedIndex = (selectedPref?.value as number) || 0\n\n    if (providers.length === 0) {\n      return { providers: DEFAULT_PROVIDERS, selectedIndex: 0 }\n    }\n\n    return { providers, selectedIndex }\n  } catch {\n    return { providers: DEFAULT_PROVIDERS, selectedIndex: 0 }\n  }\n}\n\nexport async function saveProviders(\n  providers: LlmHubProvider[],\n  selectedIndex: number,\n): Promise<boolean> {\n  try {\n    const adapter = getBrowserOSAdapter()\n\n    const [providersSuccess, selectedSuccess] = await Promise.all([\n      adapter.setPref(BROWSEROS_PREFS.THIRD_PARTY_LLM_PROVIDERS, providers),\n      adapter.setPref(BROWSEROS_PREFS.THIRD_PARTY_LLM_SELECTED, selectedIndex),\n    ])\n\n    return providersSuccess && selectedSuccess\n  } catch {\n    return false\n  }\n}\n\nexport function getFaviconUrl(url: string, size = 128): string | undefined {\n  try {\n    const normalized = url.trim()\n    if (!normalized) return undefined\n    const parsed = new URL(\n      normalized.match(/^[a-zA-Z][a-zA-Z0-9+.-]*:/)\n        ? normalized\n        : `https://${normalized}`,\n    )\n    return `https://www.google.com/s2/favicons?domain=${parsed.hostname}&sz=${size}`\n  } catch {\n    return undefined\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport {\n  DEFAULT_PROVIDERS,\n  type LlmHubProvider,\n  loadProviders,\n  saveProviders,\n} from './storage'\n\n/** @public */\nexport interface UseLlmHubProvidersReturn {\n  providers: LlmHubProvider[]\n  selectedIndex: number\n  isLoading: boolean\n  saveProvider: (provider: LlmHubProvider, editIndex?: number) => Promise<void>\n  setSelectedIndex: (index: number) => Promise<void>\n  deleteProvider: (index: number) => Promise<void>\n}\n\n/** @public */\nexport function useLlmHubProviders(): UseLlmHubProvidersReturn {\n  const [providers, setProviders] = useState<LlmHubProvider[]>([])\n  const [selectedIndex, setSelectedIndexState] = useState(0)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const load = async () => {\n      setIsLoading(true)\n      try {\n        const data = await loadProviders()\n        setProviders(data.providers)\n        setSelectedIndexState(data.selectedIndex)\n      } catch {\n        setProviders(DEFAULT_PROVIDERS)\n        setSelectedIndexState(0)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    load()\n  }, [])\n\n  const saveProvider = useCallback(\n    async (provider: LlmHubProvider, editIndex?: number) => {\n      const isEdit = editIndex !== undefined && editIndex >= 0\n      const updatedProviders = isEdit\n        ? providers.map((p, i) => (i === editIndex ? provider : p))\n        : [...providers, provider]\n\n      const prev = providers\n      setProviders(updatedProviders)\n\n      const success = await saveProviders(updatedProviders, selectedIndex)\n      if (!success) setProviders(prev)\n    },\n    [providers, selectedIndex],\n  )\n\n  const setSelectedIndex = useCallback(\n    async (index: number) => {\n      if (index < 0 || index >= providers.length) return\n\n      const prev = selectedIndex\n      setSelectedIndexState(index)\n\n      const success = await saveProviders(providers, index)\n      if (!success) setSelectedIndexState(prev)\n    },\n    [providers, selectedIndex],\n  )\n\n  const deleteProvider = useCallback(\n    async (index: number) => {\n      if (providers.length <= 1) return\n\n      const updatedProviders = providers.filter((_, i) => i !== index)\n      let newSelectedIndex = selectedIndex\n      if (selectedIndex === index) {\n        newSelectedIndex = 0\n      } else if (selectedIndex > index) {\n        newSelectedIndex = selectedIndex - 1\n      }\n\n      const prevProviders = providers\n      const prevSelected = selectedIndex\n\n      setProviders(updatedProviders)\n      setSelectedIndexState(newSelectedIndex)\n\n      const success = await saveProviders(updatedProviders, newSelectedIndex)\n      if (!success) {\n        setProviders(prevProviders)\n        setSelectedIndexState(prevSelected)\n      }\n    },\n    [providers, selectedIndex],\n  )\n\n  return {\n    providers,\n    selectedIndex,\n    isLoading,\n    saveProvider,\n    setSelectedIndex,\n    deleteProvider,\n  }\n}\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport type { FC } from 'react'\nimport { useEffect } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { HUB_PROVIDER_ADDED_EVENT } from '@/lib/constants/analyticsEvents'\nimport { track } from '@/lib/metrics/track'\nimport type { LlmHubProvider } from './models'\n\nconst formSchema = z.object({\n  name: z\n    .string()\n    .min(1, 'Provider name is required')\n    .max(50, 'Name must be 50 characters or less'),\n  url: z\n    .string()\n    .min(1, 'URL is required')\n    .refine(\n      (val) => {\n        try {\n          new URL(val.startsWith('http') ? val : `https://${val}`)\n          return true\n        } catch {\n          return false\n        }\n      },\n      { message: 'Please enter a valid URL' },\n    ),\n})\n\ntype FormValues = z.infer<typeof formSchema>\n\ninterface AddHubProviderDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  initialValues?: LlmHubProvider | null\n  onSave: (provider: LlmHubProvider) => void\n}\n\nexport const AddHubProviderDialog: FC<AddHubProviderDialogProps> = ({\n  open,\n  onOpenChange,\n  initialValues,\n  onSave,\n}) => {\n  const isEditing = !!initialValues\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: { name: '', url: '' },\n  })\n\n  useEffect(() => {\n    if (open) {\n      form.reset(\n        initialValues\n          ? { name: initialValues.name, url: initialValues.url }\n          : { name: '', url: '' },\n      )\n    }\n  }, [open, initialValues, form])\n\n  const onSubmit = (values: FormValues) => {\n    let url = values.url.trim()\n    if (!url.startsWith('http://') && !url.startsWith('https://')) {\n      url = `https://${url}`\n    }\n    if (url.endsWith('/')) {\n      url = url.slice(0, -1)\n    }\n\n    onSave({ name: values.name.trim(), url })\n    if (!isEditing) {\n      track(HUB_PROVIDER_ADDED_EVENT, { name: values.name.trim(), url })\n    }\n    form.reset()\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>\n            {isEditing ? 'Edit Provider' : 'Add Custom Provider'}\n          </DialogTitle>\n          <DialogDescription>\n            {isEditing\n              ? 'Update your custom AI chat provider.'\n              : 'Add a new AI chat provider for quick access.'}\n          </DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Provider Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., DeepSeek\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"url\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>URL</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., chat.deepseek.com\" {...field} />\n                  </FormControl>\n                  <FormDescription>\n                    The web address of the AI chat service\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter className=\"gap-2 pt-2\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\">{isEditing ? 'Update' : 'Add'}</Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { Check, Globe2, Trash2 } from 'lucide-react'\nimport type { FC, KeyboardEvent } from 'react'\nimport { useMemo } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\nimport { getFaviconUrl, type LlmHubProvider } from './models'\n\ninterface HubProviderRowProps {\n  provider: LlmHubProvider\n  isSelected: boolean\n  canDelete: boolean\n  onSelect: () => void\n  onEdit: () => void\n  onDelete: () => void\n}\n\nexport const HubProviderRow: FC<HubProviderRowProps> = ({\n  provider,\n  isSelected,\n  canDelete,\n  onSelect,\n  onEdit,\n  onDelete,\n}) => {\n  const iconUrl = useMemo(() => getFaviconUrl(provider.url), [provider.url])\n\n  const handleRowClick = () => {\n    if (!isSelected) {\n      onSelect()\n    }\n  }\n\n  const handleRowKeyDown = (event: KeyboardEvent<HTMLButtonElement>) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault()\n      handleRowClick()\n    }\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleRowClick}\n      onKeyDown={handleRowKeyDown}\n      className={cn(\n        'group flex w-full cursor-pointer items-center gap-4 rounded-xl border p-4 text-left transition-all',\n        isSelected\n          ? 'border-[var(--accent-orange)] bg-[var(--accent-orange)]/5 shadow-md'\n          : 'border-border bg-card hover:border-[var(--accent-orange)]/50 hover:shadow-sm',\n      )}\n    >\n      <div\n        className={cn(\n          'flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 transition-all',\n          isSelected\n            ? 'border-[var(--accent-orange)] bg-[var(--accent-orange)]'\n            : 'border-border',\n        )}\n      >\n        {isSelected && <Check className=\"h-3 w-3 text-white\" />}\n      </div>\n\n      <div className=\"flex h-10 w-10 shrink-0 items-center justify-center overflow-hidden rounded-lg bg-muted\">\n        {iconUrl ? (\n          <img\n            src={iconUrl}\n            alt={`${provider.name} icon`}\n            className=\"h-full w-full object-cover opacity-60 grayscale\"\n          />\n        ) : (\n          <Globe2 className=\"h-5 w-5 text-muted-foreground\" />\n        )}\n      </div>\n\n      <div className=\"min-w-0 flex-1\">\n        <span className=\"mb-0.5 block truncate font-semibold\">\n          {provider.name}\n        </span>\n        <p className=\"truncate text-muted-foreground/70 text-xs\">\n          {provider.url}\n        </p>\n      </div>\n\n      <div className=\"flex shrink-0 items-center gap-2\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={(e) => {\n            e.stopPropagation()\n            onEdit()\n          }}\n        >\n          Edit\n        </Button>\n        <Button\n          variant=\"ghost\"\n          size=\"icon-sm\"\n          disabled={!canDelete}\n          className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive disabled:opacity-30\"\n          onClick={(e) => {\n            e.stopPropagation()\n            onDelete()\n          }}\n          aria-label={`Remove ${provider.name}`}\n        >\n          <Trash2 className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </button>\n  )\n}\n","import { Loader2, Plus } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { HubProviderRow } from './HubProviderRow'\nimport type { LlmHubProvider } from './models'\n\ninterface HubProvidersListProps {\n  providers: LlmHubProvider[]\n  selectedIndex: number\n  isLoading?: boolean\n  onSelectProvider: (index: number) => void\n  onEditProvider: (index: number) => void\n  onDeleteProvider: (index: number) => void\n  onAddProvider: () => void\n}\n\nexport const HubProvidersList: FC<HubProvidersListProps> = ({\n  providers,\n  selectedIndex,\n  isLoading = false,\n  onSelectProvider,\n  onEditProvider,\n  onDeleteProvider,\n  onAddProvider,\n}) => {\n  if (isLoading) {\n    return (\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n        <div className=\"flex items-center justify-center gap-3 py-8 text-muted-foreground\">\n          <Loader2 className=\"h-5 w-5 animate-spin\" />\n          <span>Loading providers...</span>\n        </div>\n      </div>\n    )\n  }\n\n  if (providers.length === 0) {\n    return (\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n        <div className=\"mb-4 flex items-center justify-between\">\n          <h3 className=\"font-medium\">Configured Providers</h3>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={onAddProvider}\n            className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n          >\n            <Plus className=\"mr-1.5 h-4 w-4\" />\n            Add provider\n          </Button>\n        </div>\n        <div className=\"rounded-lg border border-border border-dashed py-8 text-center\">\n          <p className=\"text-muted-foreground text-sm\">\n            No providers configured yet.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n      <div className=\"mb-4 flex items-center justify-between\">\n        <h3 className=\"font-medium\">Configured Providers</h3>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={onAddProvider}\n          className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n        >\n          <Plus className=\"mr-1.5 h-4 w-4\" />\n          Add provider\n        </Button>\n      </div>\n      <div className=\"space-y-3\">\n        {providers.map((provider, index) => (\n          <HubProviderRow\n            key={provider.url}\n            provider={provider}\n            isSelected={index === selectedIndex}\n            canDelete={providers.length > 1}\n            onSelect={() => onSelectProvider(index)}\n            onEdit={() => onEditProvider(index)}\n            onDelete={() => onDeleteProvider(index)}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import { MessageSquare } from 'lucide-react'\nimport type { FC } from 'react'\n\nexport const LlmHubHeader: FC = () => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <MessageSquare className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div>\n          <h2 className=\"mb-1 font-semibold text-xl\">LLM Chat & Hub</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Curate and configure your favourite LLM chat providers\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { type FC, useState } from 'react'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport type { LlmHubProvider } from '@/lib/llm-hub/storage'\nimport { useLlmHubProviders } from '@/lib/llm-hub/useLlmHubProviders'\nimport { AddHubProviderDialog } from './AddHubProviderDialog'\nimport { HubProvidersList } from './HubProvidersList'\nimport { LlmHubHeader } from './LlmHubHeader'\n\n/** @public */\nexport const LlmHubPage: FC = () => {\n  const {\n    providers,\n    selectedIndex,\n    isLoading,\n    saveProvider,\n    setSelectedIndex,\n    deleteProvider,\n  } = useLlmHubProviders()\n\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false)\n  const [editingIndex, setEditingIndex] = useState<number | null>(null)\n  const [deleteIndex, setDeleteIndex] = useState<number | null>(null)\n\n  const handleAddProvider = () => {\n    setEditingIndex(null)\n    setIsAddDialogOpen(true)\n  }\n\n  const handleEditProvider = (index: number) => {\n    setEditingIndex(index)\n    setIsAddDialogOpen(true)\n  }\n\n  const handleDeleteProvider = (index: number) => {\n    setDeleteIndex(index)\n  }\n\n  const confirmDelete = async () => {\n    if (deleteIndex !== null) {\n      await deleteProvider(deleteIndex)\n      setDeleteIndex(null)\n    }\n  }\n\n  const handleSaveProvider = async (provider: LlmHubProvider) => {\n    await saveProvider(provider, editingIndex ?? undefined)\n  }\n\n  const providerToDelete = deleteIndex !== null ? providers[deleteIndex] : null\n  const editingProvider = editingIndex !== null ? providers[editingIndex] : null\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <LlmHubHeader />\n\n      <HubProvidersList\n        providers={providers}\n        selectedIndex={selectedIndex}\n        isLoading={isLoading}\n        onSelectProvider={setSelectedIndex}\n        onEditProvider={handleEditProvider}\n        onDeleteProvider={handleDeleteProvider}\n        onAddProvider={handleAddProvider}\n      />\n\n      <AddHubProviderDialog\n        open={isAddDialogOpen}\n        onOpenChange={setIsAddDialogOpen}\n        initialValues={editingProvider}\n        onSave={handleSaveProvider}\n      />\n\n      <AlertDialog\n        open={deleteIndex !== null}\n        onOpenChange={(open) => !open && setDeleteIndex(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Remove Provider</AlertDialogTitle>\n            <AlertDialogDescription>\n              Remove {providerToDelete?.name} from your LLM chat providers?\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={confirmDelete}>\n              Remove\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n","import { defineExtensionMessaging } from '@webext-core/messaging'\nimport type { McpTool } from '@/lib/mcp/client'\n\ntype ServerMessagesProtocol = {\n  checkHealth(): { healthy: boolean }\n  fetchMcpTools(): { tools: McpTool[]; error?: string }\n}\n\n/**\n * @public\n */\nconst { sendMessage, onMessage } =\n  defineExtensionMessaging<ServerMessagesProtocol>()\n\nexport { sendMessage as sendServerMessage, onMessage as onServerMessage }\n","import { Check, Copy, ExternalLink, Server } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { Button } from '@/components/ui/button'\n\ninterface MCPServerHeaderProps {\n  serverUrl: string | null\n  isLoading: boolean\n  error: string | null\n}\n\nconst DOCS_URL = 'https://docs.browseros.com/browseros-mcp/how-to-guide'\n\nexport const MCPServerHeader: FC<MCPServerHeaderProps> = ({\n  serverUrl,\n  isLoading,\n  error,\n}) => {\n  const [isCopied, setIsCopied] = useState(false)\n\n  const handleCopy = async () => {\n    if (!serverUrl) return\n\n    try {\n      await navigator.clipboard.writeText(serverUrl)\n      setIsCopied(true)\n      setTimeout(() => setIsCopied(false), 2000)\n    } catch {\n      // Clipboard API failed\n    }\n  }\n\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <Server className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div className=\"flex-1\">\n          <div className=\"mb-1 flex items-center justify-between\">\n            <h2 className=\"font-semibold text-xl\">BrowserOS MCP Server</h2>\n            <a\n              href={DOCS_URL}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center gap-1 text-muted-foreground text-sm transition-colors hover:text-[var(--accent-orange)]\"\n            >\n              Setup a client\n              <ExternalLink className=\"h-3.5 w-3.5\" />\n            </a>\n          </div>\n          <p className=\"mb-6 text-muted-foreground text-sm\">\n            Connect BrowserOS to MCP clients like claude code, gemini and\n            others.\n          </p>\n\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\n            <span className=\"whitespace-nowrap font-medium text-sm\">\n              Server URL:\n            </span>\n            <div className=\"flex flex-1 items-center gap-2\">\n              <div className=\"flex-1 rounded-lg border border-border bg-background px-3 py-2 font-mono text-sm sm:max-w-md\">\n                {isLoading ? (\n                  <span className=\"text-muted-foreground\">Loading...</span>\n                ) : error ? (\n                  <span className=\"text-destructive\">{error}</span>\n                ) : (\n                  serverUrl\n                )}\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={handleCopy}\n                disabled={!serverUrl || isLoading}\n                className=\"shrink-0\"\n              >\n                {isCopied ? (\n                  <Check className=\"h-4 w-4 text-green-600\" />\n                ) : (\n                  <Copy className=\"h-4 w-4\" />\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { ChevronDown, Loader2, RefreshCw, Wrench } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\nimport type { McpTool } from '@/lib/mcp/client'\n\ninterface MCPToolsSectionProps {\n  tools: McpTool[]\n  isLoading: boolean\n  error: string | null\n  onRefresh: () => void\n}\n\nexport const MCPToolsSection: FC<MCPToolsSectionProps> = ({\n  tools,\n  isLoading,\n  error,\n  onRefresh,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <Collapsible\n      open={isOpen}\n      onOpenChange={setIsOpen}\n      className=\"group/collapsible\"\n    >\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <div className=\"flex items-start justify-between gap-3\">\n          <CollapsibleTrigger className=\"flex flex-1 items-center justify-between text-left\">\n            <div>\n              <h3 className=\"font-semibold text-lg\">Available Tools</h3>\n              {tools.length > 0 && (\n                <p className=\"text-muted-foreground text-sm\">\n                  {tools.length} tools available\n                </p>\n              )}\n            </div>\n            <ChevronDown\n              className={`h-5 w-5 text-muted-foreground transition-transform duration-200 ${\n                isOpen ? 'rotate-180' : ''\n              }`}\n            />\n          </CollapsibleTrigger>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={onRefresh}\n            disabled={isLoading}\n            className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n            title=\"Refresh tools\"\n          >\n            {isLoading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <RefreshCw className=\"h-4 w-4\" />\n            )}\n          </Button>\n        </div>\n\n        {error && (\n          <div className=\"mt-4 rounded-lg border border-destructive/20 bg-destructive/10 px-4 py-3 text-destructive text-sm\">\n            {error}\n          </div>\n        )}\n\n        <CollapsibleContent className=\"pt-4\">\n          {tools.length > 0 && (\n            <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n              {tools.map((tool) => (\n                <div\n                  key={tool.name}\n                  className=\"rounded-lg border border-border bg-background p-4 transition-all hover:border-[var(--accent-orange)]/50 hover:shadow-sm\"\n                >\n                  <div className=\"mb-2 flex items-center gap-2\">\n                    <Wrench className=\"h-4 w-4 text-[var(--accent-orange)]\" />\n                    <span className=\"font-medium text-sm\">{tool.name}</span>\n                  </div>\n                  {tool.description && (\n                    <p className=\"line-clamp-2 text-muted-foreground text-xs\">\n                      {tool.description}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </CollapsibleContent>\n      </div>\n    </Collapsible>\n  )\n}\n","import { cva, type VariantProps } from 'class-variance-authority'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\n/**\n * @public\n */\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'col-start-2 grid justify-items-start gap-1 text-muted-foreground text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n","\"use client\";\n\n// src/switch.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar SWITCH_NAME = \"Switch\";\nvar [createSwitchContext, createSwitchScope] = createContextScope(SWITCH_NAME);\nvar [SwitchProvider, useSwitchContext] = createSwitchContext(SWITCH_NAME);\nvar Switch = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSwitch,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...switchProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked ?? false,\n      onChange: onCheckedChange,\n      caller: SWITCH_NAME\n    });\n    return /* @__PURE__ */ jsxs(SwitchProvider, { scope: __scopeSwitch, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"switch\",\n          \"aria-checked\": checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...switchProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        SwitchBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nSwitch.displayName = SWITCH_NAME;\nvar THUMB_NAME = \"SwitchThumb\";\nvar SwitchThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSwitch, ...thumbProps } = props;\n    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...thumbProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSwitchThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"SwitchBubbleInput\";\nvar SwitchBubbleInput = React.forwardRef(\n  ({\n    __scopeSwitch,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nSwitchBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Switch;\nvar Thumb = SwitchThumb;\nexport {\n  Root,\n  Switch,\n  SwitchThumb,\n  Thumb,\n  createSwitchScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as SwitchPrimitive from '@radix-ui/react-switch'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\n/** @public */\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-xs outline-none transition-colors focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          'pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0',\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n","import { AlertCircle, Loader2, RefreshCw, Settings, X } from 'lucide-react'\nimport { type FC, useCallback, useEffect, useState } from 'react'\nimport { toast } from 'sonner'\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport { getBrowserOSAdapter } from '@/lib/browseros/adapter'\nimport { BROWSEROS_PREFS } from '@/lib/browseros/prefs'\nimport {\n  MCP_EXTERNAL_ACCESS_DISABLED_EVENT,\n  MCP_EXTERNAL_ACCESS_ENABLED_EVENT,\n  MCP_SERVER_RESTARTED_EVENT,\n} from '@/lib/constants/analyticsEvents'\nimport { sendServerMessage } from '@/lib/messaging/server/serverMessages'\nimport { track } from '@/lib/metrics/track'\n\nconst HEALTH_CHECK_TIMEOUT_MS = 60_000\nconst HEALTH_CHECK_INTERVAL_MS = 2_000\nconst LONG_WAIT_THRESHOLD_MS = 15_000\n\ntype DialogType = 'enable-remote' | 'restart' | null\n\ninterface ServerSettingsCardProps {\n  onServerRestart?: () => void\n}\n\nexport const ServerSettingsCard: FC<ServerSettingsCardProps> = ({\n  onServerRestart,\n}) => {\n  const [allowRemote, setAllowRemote] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [isRestarting, setIsRestarting] = useState(false)\n  const [restartMessage, setRestartMessage] = useState('Restarting server...')\n  const [dialogType, setDialogType] = useState<DialogType>(null)\n  const [serverError, setServerError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const loadCurrentPref = async () => {\n      try {\n        const adapter = getBrowserOSAdapter()\n        const pref = await adapter.getPref(BROWSEROS_PREFS.ALLOW_REMOTE_MCP)\n        setAllowRemote(pref?.value === true)\n      } catch {\n        // API not available or error\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadCurrentPref()\n  }, [])\n\n  const checkServerHealth = useCallback(async (): Promise<boolean> => {\n    try {\n      const result = await sendServerMessage('checkHealth', undefined)\n      return result.healthy\n    } catch {\n      return false\n    }\n  }, [])\n\n  const waitForServerRestart = useCallback(async (): Promise<boolean> => {\n    const startTime = Date.now()\n\n    return new Promise((resolve) => {\n      const checkHealth = async () => {\n        const elapsed = Date.now() - startTime\n\n        if (elapsed >= HEALTH_CHECK_TIMEOUT_MS) {\n          resolve(false)\n          return\n        }\n\n        if (elapsed >= LONG_WAIT_THRESHOLD_MS) {\n          setRestartMessage('Taking longer than expected...')\n        }\n\n        const isHealthy = await checkServerHealth()\n        if (isHealthy) {\n          resolve(true)\n          return\n        }\n\n        setTimeout(checkHealth, HEALTH_CHECK_INTERVAL_MS)\n      }\n\n      setTimeout(checkHealth, HEALTH_CHECK_INTERVAL_MS)\n    })\n  }, [checkServerHealth])\n\n  const handleToggleChange = (checked: boolean) => {\n    if (checked) {\n      setDialogType('enable-remote')\n    } else {\n      performToggle(false)\n    }\n  }\n\n  const performToggle = async (newValue: boolean) => {\n    setIsRestarting(true)\n    setRestartMessage('Restarting server...')\n    setDialogType(null)\n    setServerError(null)\n\n    try {\n      const adapter = getBrowserOSAdapter()\n      const success = await adapter.setPref(\n        BROWSEROS_PREFS.ALLOW_REMOTE_MCP,\n        newValue,\n      )\n\n      if (!success) {\n        throw new Error('Failed to update setting')\n      }\n\n      const serverRestarted = await waitForServerRestart()\n\n      if (serverRestarted) {\n        setAllowRemote(newValue)\n        track(\n          newValue\n            ? MCP_EXTERNAL_ACCESS_ENABLED_EVENT\n            : MCP_EXTERNAL_ACCESS_DISABLED_EVENT,\n        )\n        toast.success('Server restarted successfully', {\n          description: newValue\n            ? 'Remote connections are now enabled'\n            : 'Remote connections are now disabled',\n        })\n        onServerRestart?.()\n      } else {\n        setServerError(\n          'Server did not respond. Please quit and restart the browser, then try again.',\n        )\n      }\n    } catch (error) {\n      setServerError(\n        error instanceof Error ? error.message : 'Failed to update setting',\n      )\n    } finally {\n      setIsRestarting(false)\n    }\n  }\n\n  const handleRestartClick = () => {\n    setDialogType('restart')\n  }\n\n  const performRestart = async () => {\n    setIsRestarting(true)\n    setRestartMessage('Restarting server...')\n    setDialogType(null)\n    setServerError(null)\n\n    try {\n      const adapter = getBrowserOSAdapter()\n      await adapter.setPref(BROWSEROS_PREFS.RESTART_SERVER, true)\n\n      const serverRestarted = await waitForServerRestart()\n\n      if (serverRestarted) {\n        track(MCP_SERVER_RESTARTED_EVENT)\n        toast.success('Server restarted successfully')\n        onServerRestart?.()\n      } else {\n        setServerError(\n          'Server did not respond. Please quit and restart the browser, then try again.',\n        )\n      }\n    } catch (error) {\n      setServerError(\n        error instanceof Error ? error.message : 'Failed to restart server',\n      )\n    } finally {\n      setIsRestarting(false)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"relative rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        {isRestarting && (\n          <div className=\"absolute inset-0 z-10 flex flex-col items-center justify-center rounded-xl bg-card/80 backdrop-blur-sm\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-[var(--accent-orange)]\" />\n            <p className=\"mt-3 font-medium text-sm\">{restartMessage}</p>\n          </div>\n        )}\n\n        <div className=\"flex items-start gap-4\">\n          <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n            <Settings className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n          </div>\n          <div className=\"flex-1\">\n            <h2 className=\"mb-1 font-semibold text-xl\">MCP Server Settings</h2>\n            <p className=\"mb-6 text-muted-foreground text-sm\">\n              Configure local MCP server options\n            </p>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"allow-remote\" className=\"font-medium text-sm\">\n                    Allow External Access\n                  </Label>\n                  <p className=\"text-muted-foreground text-xs\">\n                    Allow MCP clients from other devices to connect\n                  </p>\n                </div>\n                <Switch\n                  id=\"allow-remote\"\n                  checked={allowRemote}\n                  onCheckedChange={handleToggleChange}\n                  disabled={isLoading || isRestarting}\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between border-border border-t pt-4\">\n                <div className=\"space-y-0.5\">\n                  <span className=\"font-medium text-sm\">\n                    Restart MCP Server\n                  </span>\n                  <p className=\"text-muted-foreground text-xs\">\n                    Restart local MCP server\n                  </p>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={handleRestartClick}\n                  disabled={isLoading || isRestarting}\n                >\n                  <RefreshCw className=\"mr-2 h-4 w-4\" />\n                  Restart\n                </Button>\n              </div>\n\n              {serverError && (\n                <Alert\n                  variant=\"destructive\"\n                  className=\"mt-4 border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950\"\n                >\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertTitle className=\"flex items-center justify-between\">\n                    <span>Server Error</span>\n                    <button\n                      type=\"button\"\n                      onClick={() => setServerError(null)}\n                      className=\"-mt-1 -mr-1 rounded-sm p-1 opacity-70 transition-opacity hover:opacity-100\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </button>\n                  </AlertTitle>\n                  <AlertDescription>{serverError}</AlertDescription>\n                </Alert>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <AlertDialog\n        open={dialogType === 'enable-remote'}\n        onOpenChange={(open) => !open && setDialogType(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Allow External Access?</AlertDialogTitle>\n            <AlertDialogDescription>\n              By default, the MCP server only accepts connections from localhost\n              (127.0.0.1). Enabling this will allow any device on your network\n              to connect. Only enable if you need to connect from another\n              machine and trust your network.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={() => performToggle(true)}>\n              Enable\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog\n        open={dialogType === 'restart'}\n        onOpenChange={(open) => !open && setDialogType(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Restart MCP Server?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This will restart the local MCP server. It may take 10-30 seconds\n              to complete. Any active connections will be temporarily\n              interrupted.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={performRestart}>\n              Restart\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  )\n}\n","import { type FC, useCallback, useEffect, useState } from 'react'\nimport { getMcpServerUrl } from '@/lib/browseros/helpers'\nimport type { McpTool } from '@/lib/mcp/client'\nimport { sendServerMessage } from '@/lib/messaging/server/serverMessages'\nimport { MCPServerHeader } from './MCPServerHeader'\nimport { MCPToolsSection } from './MCPToolsSection'\nimport { ServerSettingsCard } from './ServerSettingsCard'\n\n/** @public */\nexport const MCPSettingsPage: FC = () => {\n  const [serverUrl, setServerUrl] = useState<string | null>(null)\n  const [urlLoading, setUrlLoading] = useState(true)\n  const [urlError, setUrlError] = useState<string | null>(null)\n\n  const [tools, setTools] = useState<McpTool[]>([])\n  const [toolsLoading, setToolsLoading] = useState(false)\n  const [toolsError, setToolsError] = useState<string | null>(null)\n\n  const loadServerUrlAndTools = useCallback(async () => {\n    let url: string | null = null\n    setUrlLoading(true)\n    setUrlError(null)\n    setToolsError(null)\n\n    try {\n      url = await getMcpServerUrl()\n      setServerUrl(url)\n      setUrlLoading(false)\n\n      setToolsLoading(true)\n      const result = await sendServerMessage('fetchMcpTools', undefined)\n      if (result.error) {\n        setToolsError(result.error)\n      } else {\n        setTools(result.tools)\n      }\n    } catch (err) {\n      const errorMsg = err instanceof Error ? err.message : 'Failed to load'\n      if (!url) {\n        setUrlError(errorMsg)\n      } else {\n        setToolsError(errorMsg)\n      }\n    } finally {\n      setUrlLoading(false)\n      setToolsLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    loadServerUrlAndTools()\n  }, [loadServerUrlAndTools])\n\n  const handleRefreshTools = async () => {\n    if (!serverUrl) return\n\n    setToolsLoading(true)\n    setToolsError(null)\n    setTools([])\n\n    try {\n      const result = await sendServerMessage('fetchMcpTools', undefined)\n      if (result.error) {\n        setToolsError(result.error)\n      } else {\n        setTools(result.tools)\n      }\n    } catch (err) {\n      setToolsError(\n        err instanceof Error ? err.message : 'Failed to fetch tools',\n      )\n    } finally {\n      setToolsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <MCPServerHeader\n        serverUrl={serverUrl}\n        isLoading={urlLoading}\n        error={urlError}\n      />\n\n      <ServerSettingsCard onServerRestart={loadServerUrlAndTools} />\n\n      <MCPToolsSection\n        tools={tools}\n        isLoading={toolsLoading}\n        error={toolsError}\n        onRefresh={handleRefreshTools}\n      />\n    </div>\n  )\n}\n","import type { FC } from 'react'\nimport { HashRouter, Navigate, Route, Routes } from 'react-router'\nimport { AISettingsPage } from './ai-settings/AISettingsPage'\nimport { ConnectMCP } from './connect-mcp/ConnectMCP'\nimport { DashboardLayout } from './layout/DashboardLayout'\nimport { LlmHubPage } from './llm-hub/LlmHubPage'\nimport { MCPSettingsPage } from './mcp-settings/MCPSettingsPage'\n\nexport const App: FC = () => {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route element={<DashboardLayout />}>\n          <Route index element={<Navigate to=\"/ai\" replace />} />\n          <Route path=\"ai\" element={<AISettingsPage key=\"ai\" />} />\n          <Route path=\"chat\" element={<LlmHubPage />} />\n          <Route path=\"search\" element={<></>} />\n          <Route path=\"connect-mcp\" element={<ConnectMCP />} />\n          <Route path=\"mcp\" element={<MCPSettingsPage />} />\n          <Route\n            path=\"onboarding\"\n            element={<AISettingsPage key=\"onboarding\" />}\n          />\n        </Route>\n      </Routes>\n    </HashRouter>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport '@/styles/global.css'\nimport { ThemeProvider } from '@/components/theme-provider.tsx'\nimport { Toaster } from '@/components/ui/sonner'\nimport { AnalyticsProvider } from '@/lib/analytics/AnalyticsProvider.tsx'\nimport { sentryRootErrorHandler } from '@/lib/sentry/sentryRootErrorHandler.ts'\nimport { App } from './App.tsx'\n\nconst $root = document.getElementById('root')\n\nif ($root) {\n  ReactDOM.createRoot($root, sentryRootErrorHandler).render(\n    <React.StrictMode>\n      <AnalyticsProvider>\n        <ThemeProvider>\n          <App />\n          <Toaster />\n        </ThemeProvider>\n      </AnalyticsProvider>\n    </React.StrictMode>,\n  )\n}\n"],"names":["__iconNode","ChevronUp","createLucideIcon","Earth","ExternalLink","Menu","PlugZap","RotateCcw","Server","Trash2","Wrench","ZodIssueCode","SLOTTABLE_IDENTIFIER","createSlottable","ownerName","Slottable2","children","jsx","Fragment2","ROOT_NAME","createAlertDialogContext","createContextScope","createDialogScope","useDialogScope","AlertDialog","props","__scopeAlertDialog","alertDialogProps","dialogScope","DialogPrimitive.Root","TRIGGER_NAME","AlertDialogTrigger","React.forwardRef","forwardedRef","triggerProps","DialogPrimitive.Trigger","PORTAL_NAME","AlertDialogPortal","portalProps","DialogPrimitive.Portal","OVERLAY_NAME","AlertDialogOverlay","overlayProps","DialogPrimitive.Overlay","CONTENT_NAME","AlertDialogContentProvider","useAlertDialogContentContext","Slottable","AlertDialogContent","contentProps","contentRef","React.useRef","composedRefs","useComposedRefs","cancelRef","DialogPrimitive.WarningProvider","TITLE_NAME","jsxs","DialogPrimitive.Content","composeEventHandlers","event","DescriptionWarning","AlertDialogTitle","titleProps","DialogPrimitive.Title","DESCRIPTION_NAME","AlertDialogDescription","descriptionProps","DialogPrimitive.Description","ACTION_NAME","AlertDialogAction","actionProps","DialogPrimitive.Close","CANCEL_NAME","AlertDialogCancel","cancelProps","ref","MESSAGE","React.useEffect","Root2","Portal2","Overlay2","Content2","Action","Cancel","Title2","Description2","AlertDialogPrimitive.Root","AlertDialogPrimitive.Portal","className","AlertDialogPrimitive.Overlay","cn","AlertDialogPrimitive.Content","AlertDialogHeader","AlertDialogFooter","AlertDialogPrimitive.Title","AlertDialogPrimitive.Description","AlertDialogPrimitive.Action","buttonVariants","AlertDialogPrimitive.Cancel","testProvider","provider","agentServerUrl","startTime","result","error","responseTime","badgeVariants","cva","Badge","variant","asChild","Comp","Slot","ProviderCard","isSelected","isBuiltIn","onSelect","onTest","onEdit","onDelete","isTesting","inputId","Check","BrowserOSIcon","ProviderIcon","Button","Loader2","ConfiguredProvidersList","providers","selectedProviderId","testingProviderId","onSelectProvider","onTestProvider","onEditProvider","onDeleteProvider","clamp","value","min","max","createSlot","SlotClone","createSlotClone","Slot2","slotProps","childrenArray","React.Children","slottable","isSlottable","newElement","newChildren","child","React.isValidElement","React.cloneElement","childrenRef","getElementRef","props2","mergeProps","React.Fragment","composeRefs","childProps","overrideProps","propName","slotPropValue","childPropValue","args","element","getter","mayWarn","OPEN_KEYS","SELECTION_KEYS","SELECT_NAME","Collection","useCollection","createCollectionScope","createCollection","createSelectContext","createPopperScope","usePopperScope","SelectProvider","useSelectContext","SelectNativeOptionsProvider","useSelectNativeOptionsContext","Select","__scopeSelect","openProp","defaultOpen","onOpenChange","valueProp","defaultValue","onValueChange","dir","name","autoComplete","disabled","required","form","popperScope","trigger","setTrigger","React.useState","valueNode","setValueNode","valueNodeHasChildren","setValueNodeHasChildren","direction","useDirection","open","setOpen","useControllableState","setValue","triggerPointerDownPosRef","isFormControl","nativeOptionsSet","setNativeOptionsSet","nativeSelectKey","option","PopperPrimitive.Root","useId","React.useCallback","prev","optionsSet","SelectBubbleInput","SelectTrigger","context","isDisabled","getItems","pointerTypeRef","searchRef","handleTypeaheadSearch","resetTypeahead","useTypeaheadSearch","search","enabledItems","item","currentItem","nextItem","findNextItem","handleOpen","pointerEvent","PopperPrimitive.Anchor","Primitive","shouldShowPlaceholder","target","isTypingAhead","VALUE_NAME","SelectValue","style","placeholder","valueProps","onValueNodeHasChildrenChange","hasChildren","useLayoutEffect","Fragment","ICON_NAME","SelectIcon","iconProps","SelectPortal","PortalPrimitive","SelectContent","fragment","setFragment","frag","ReactDOM.createPortal","SelectContentProvider","SelectContentImpl","CONTENT_MARGIN","useSelectContentContext","CONTENT_IMPL_NAME","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions","content","setContent","viewport","setViewport","node","selectedItem","setSelectedItem","selectedItemText","setSelectedItemText","isPositioned","setIsPositioned","firstValidItemFoundRef","hideOthers","useFocusGuards","focusFirst","candidates","firstItem","restItems","lastItem","PREVIOUSLY_FOCUSED_ELEMENT","candidate","focusSelectedItem","pointerMoveDelta","handlePointerMove","handlePointerUp","close","itemRefCallback","isFirstValidItem","handleItemLeave","itemTextRefCallback","SelectPosition","SelectPopperPosition","SelectItemAlignedPosition","popperContentProps","RemoveScroll","FocusScope","DismissableLayer","isModifierKey","candidateNodes","currentElement","currentIndex","ITEM_ALIGNED_POSITION_NAME","onPlaced","popperProps","contentContext","contentWrapper","setContentWrapper","shouldExpandOnScrollRef","shouldRepositionRef","triggerRect","contentRect","valueNodeRect","itemTextRect","itemTextOffset","left","leftDelta","minContentWidth","contentWidth","rightEdge","clampedLeft","right","rightDelta","leftEdge","clampedRight","items","availableHeight","itemsHeight","contentStyles","contentBorderTopWidth","contentPaddingTop","contentBorderBottomWidth","contentPaddingBottom","fullContentHeight","minContentHeight","viewportStyles","viewportPaddingTop","viewportPaddingBottom","topEdgeToTriggerMiddle","triggerMiddleToBottomEdge","selectedItemHalfHeight","itemOffsetMiddle","contentTopToItemMiddle","itemMiddleToContentBottom","isLastItem","viewportOffsetBottom","clampedTriggerMiddleToBottomEdge","height","isFirstItem","contentZIndex","setContentZIndex","handleScrollButtonChange","SelectViewportProvider","POPPER_POSITION_NAME","PopperPrimitive.Content","useSelectViewportContext","VIEWPORT_NAME","SelectViewport","nonce","viewportProps","viewportContext","prevScrollTopRef","scrolledBy","cssMinHeight","cssHeight","prevHeight","nextHeight","clampedNextHeight","heightDiff","GROUP_NAME","SelectGroupContextProvider","useSelectGroupContext","SelectGroup","groupProps","groupId","LABEL_NAME","SelectLabel","labelProps","groupContext","ITEM_NAME","SelectItemContextProvider","useSelectItemContext","SelectItem","textValueProp","itemProps","textValue","setTextValue","isFocused","setIsFocused","textId","handleSelect","prevTextValue","ITEM_TEXT_NAME","SelectItemText","itemTextProps","itemContext","nativeOptionsContext","itemTextNode","setItemTextNode","textContent","nativeOption","React.useMemo","onNativeOptionAdd","onNativeOptionRemove","ITEM_INDICATOR_NAME","SelectItemIndicator","itemIndicatorProps","SCROLL_UP_BUTTON_NAME","SelectScrollUpButton","canScrollUp","setCanScrollUp","handleScroll2","canScrollUp2","SelectScrollButtonImpl","SCROLL_DOWN_BUTTON_NAME","SelectScrollDownButton","canScrollDown","setCanScrollDown","maxScroll","canScrollDown2","onAutoScroll","scrollIndicatorProps","autoScrollTimerRef","clearAutoScrollTimer","SEPARATOR_NAME","SelectSeparator","separatorProps","ARROW_NAME","SelectArrow","arrowProps","PopperPrimitive.Arrow","BUBBLE_INPUT_NAME","prevValue","usePrevious","select","selectProto","VISUALLY_HIDDEN_STYLES","onSearchChange","handleSearchChange","useCallbackRef","timerRef","key","updateSearch","normalizedSearch","char","currentItemIndex","wrappedItems","wrapArray","v","array","startIndex","_","index","Trigger","Value","Icon","Portal","Viewport","Item","ItemText","ItemIndicator","ScrollUpButton","ScrollDownButton","SelectPrimitive.Root","SelectPrimitive.Value","size","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDownIcon","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","CheckIcon","SelectPrimitive.ItemText","SelectPrimitive.ScrollUpButton","ChevronUpIcon","SelectPrimitive.ScrollDownButton","LlmProvidersHeader","defaultProviderId","onDefaultProviderChange","onAddProvider","ProductLogoSvg","Plus","isCheckBoxInput","isDateObject","isNullOrUndefined","isObjectType","isObject","getEventValue","getNodeParentName","isNameInFieldArray","names","isPlainObject","tempObject","prototypeCopy","isWeb","cloneObject","data","copy","isArray","isFileListInstance","isKey","isUndefined","val","compact","stringToPath","input","get","object","path","isBoolean","set","tempPath","length","lastIndex","newValue","objValue","EVENTS","VALIDATION_MODE","INPUT_VALIDATION_RULES","HookFormContext","React","useFormContext","FormProvider","getProxyFormState","formState","control","localProxyFormState","isRoot","_key","useIsomorphicLayoutEffect","useFormState","methods","exact","updateFormState","_localProxyFormState","isString","generateWatchOutput","_names","formValues","isGlobal","fieldName","isPrimitive","deepEqual","object1","object2","_internal_visited","keys1","keys2","val1","val2","useWatch","compute","_defaultValue","_compute","_computeFormValues","_prevControl","_prevName","updateValue","getCurrentOutput","values","refreshValue","computedFormValues","controlChanged","prevName","computedOutput","nameChanged","useController","shouldUnregister","isArrayField","defaultValueMemo","_props","_previousNameRef","_registerProps","fieldState","onChange","onBlur","elm","field","message","_shouldUnregisterField","previousName","updateMounted","Controller","appendErrors","validateAllFieldCriteria","errors","type","convertToArrayPayload","createSubject","_observers","observer","o","extractFormValues","fieldsState","fieldValue","nestedFieldsState","isEmptyObject","isFileInput","isFunction","isHTMLElement","owner","isMultipleSelect","isRadioInput","isRadioOrCheckbox","live","baseGet","updatePath","isEmptyArray","obj","unset","paths","childObject","objectHasFunction","isTraversable","markFieldsDirty","fields","getDirtyFields","dirtyFieldsFromValues","formValue","defaultResult","validResult","getCheckboxValue","options","getFieldValueAs","valueAsNumber","valueAsDate","setValueAs","defaultReturn","getRadioValue","previous","getFieldValue","_f","getResolverOptions","fieldsNames","_fields","criteriaMode","shouldUseNativeValidation","isRegex","getRuleValue","rule","getValidationModes","mode","ASYNC_FUNCTION","hasPromiseValidation","fieldReference","validateFunction","hasValidation","isWatched","isBlurEvent","watchName","iterateFieldsByAction","action","abortEarly","currentField","schemaErrorLookup","foundError","shouldRenderFormState","formStateData","_proxyFormState","shouldSubscribeByName","signalName","currentName","skipValidation","isTouched","isSubmitted","reValidateMode","unsetEmptyArray","updateFieldArrayRootError","fieldArrayErrors","getValidateError","getValueAndMessage","validationData","validateField","disabledFieldNames","isFieldArray","refs","maxLength","minLength","pattern","validate","mount","inputValue","inputRef","setCustomValidity","isRadio","isCheckBox","isEmpty","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","exceedMin","maxOutput","minOutput","valueNumber","valueDate","convertTimeToDate","time","isTime","isWeek","maxLengthOutput","minLengthOutput","patternValue","validateError","validationResult","defaultOptions","createFormControl","_options","_formState","_defaultValues","_formValues","_state","delayErrorCallback","timer","_proxySubscribeFormState","_subjects","shouldDisplayAllAssociatedErrors","debounce","callback","wait","_setValid","shouldUpdateValid","isValid","_runSchema","executeBuiltInValidation","_updateIsValidating","isValidating","_setFieldArray","method","shouldSetValues","shouldUpdateFieldsAndState","fieldValues","touchedFields","_getDirty","updateErrors","_setErrors","updateValidAndValue","shouldSkipSetValueAs","setFieldValue","updateTouchAndDirty","shouldDirty","shouldRender","shouldUpdateField","isPreviousDirty","output","isCurrentFieldPristine","isPreviousFieldTouched","shouldRenderByError","previousFieldError","updatedFormState","executeSchemaAndUpdateState","shouldOnlyCheckValid","isFieldArrayRoot","isPromiseFunction","fieldError","_removeUnmounted","unregister","getValues","_getWatch","_getFieldArray","optionRef","checkboxRef","radioRef","setValues","fieldKey","cloneValue","isFieldValueUpdated","_updateIsFieldValueUpdated","validationModeBeforeSubmit","validationModeAfterSubmit","shouldSkipValidation","watched","previousErrorLookupResult","errorLookupResult","_focusInput","fieldNames","config","getFieldState","clearErrors","inputName","setError","currentError","currentRef","restOfErrorTree","watch","payload","_subscribe","_setFormState","subscribe","_setDisabledField","register","disabledIsDefined","fieldRef","radioOrCheckbox","_focusError","_disableForm","handleSubmit","onValid","onInvalid","e","onValidError","resetField","_reset","keepStateOptions","updatedValues","cloneUpdatedValues","isEmptyResetValues","fieldsToCheck","reset","setFocus","useForm","_formControl","_values","formControl","rest","sub","isDirty","_a","state","r","t","s","n","f","c","i","a","u","n.parse","n.parseAsync","n.$ZodError","Form","FormFieldContext","React.createContext","FormField","useFormField","fieldContext","React.useContext","FormItemContext","id","FormItem","React.useId","FormLabel","formItemId","Label","FormControl","formDescriptionId","formMessageId","FormDescription","FormMessage","body","providerTemplates","providerTypeOptions","getProviderTemplate","DEFAULT_BASE_URLS","getDefaultBaseUrlForProviders","MODELS_DATA","getModelsForProvider","providerType","getModelOptions","modelIds","m","getModelContextLength","modelId","providerTypeEnum","z.enum","providerFormSchema","z.object","z.string","z.boolean","z.number","ctx","z.ZodIssueCode","NewProviderDialog","initialValues","onSave","isCustomModel","setIsCustomModel","useState","setIsTesting","testResult","setTestResult","supports","useCapabilities","filteredProviderTypeOptions","opt","Feature","zodResolver","watchedType","watchedModelId","watchedApiKey","watchedBaseUrl","watchedResourceName","watchedAccessKeyId","watchedSecretAccessKey","watchedRegion","watchedSessionToken","useEffect","modelOptions","handleTypeChange","newType","defaultUrl","contextLength","handleModelChange","defaultType","onSubmit","isNewProvider","track","AI_PROVIDER_ADDED_EVENT","canTest","handleTest","getAgentServerUrl","providerTemplate","setupGuideUrl","providerName","handleSetupGuideClick","renderProviderSpecificFields","Input","isApiKeyOptional","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Checkbox","CheckCircle2","XCircle","DialogFooter","ProviderTemplateCard","template","onUseTemplate","ProviderTemplatesSection","filteredTemplates","Collapsible","CollapsibleTrigger","ChevronDown","CollapsibleContent","AISettingsPage","saveProvider","setDefaultProvider","deleteProvider","useLlmProviders","isNewDialogOpen","setIsNewDialogOpen","isEditDialogOpen","setIsEditDialogOpen","templateValues","setTemplateValues","editingProvider","setEditingProvider","providerToDelete","setProviderToDelete","setTestingProviderId","handleAddProvider","handleUseTemplate","handleEditProvider","handleDeleteProvider","confirmDeleteProvider","handleSaveProvider","handleSelectProvider","providerId","handleTestProvider","toast","Textarea","formSchema","AddCustomMCPDialog","onAddServer","handleOpenChange","isOpen","AddManagedMCPDialog","serversList","handleAddServer","serverName","description","AvailableManagedServers","availableServers","isLoading","setIsOpen","startTransition","IS_REACT_LEGACY","cb","useStateWithDeps","initialState","rerender","unmountedRef","useRef","stateRef","stateDependenciesRef","setState","useCallback","shouldRerender","currentState","k","mutation","fetcher","mutate","useSWRConfig","keyRef","fetcherRef","configRef","ditchMutationsUntilRef","stateDependencies","UNDEFINED","arg","opts","serializedKey","resolvedKey","serialize","mergeObjects","mutationStartedAt","getTimestamp","useSWRMutation","withMiddleware","useSWR","addManagedServer","url","response","errorData","useAddManagedServer","useAgentServerUrl","getAllManagedServers","hostUrl","useGetMCPServersList","getUserMCPIntegrations","useGetUserMCPIntegrations","removeManagedServer","useRemoveManagedServer","failedToAddMcp","sentry","failedToRemoveMcp","ConnectMCP","createdServers","addServer","removeServer","useMcpServers","addingManagedMcp","setAddingManagedMcp","addingCustomMcp","setAddingCustomMcp","deletingServerId","setDeletingServerId","addManagedServerMutation","removeManagedServerMutation","userMCPIntegrations","isUserMCPIntegrationsLoading","openAuthUrlForMCP","mcpName","authUrl","deleteManagedServer","addCustomServer","eachServer","server","navigationItems","Bot","MessageSquare","Search","DashboardLayout","location","useLocation","sidebarOpen","setSidebarOpen","X","ThemeToggle","isActive","NavLink","Info","Outlet","DEFAULT_PROVIDERS","loadProviders","adapter","getBrowserOSAdapter","providersPref","selectedPref","BROWSEROS_PREFS","selectedIndex","saveProviders","providersSuccess","selectedSuccess","getFaviconUrl","normalized","useLlmHubProviders","setProviders","setSelectedIndexState","setIsLoading","editIndex","updatedProviders","p","setSelectedIndex","newSelectedIndex","prevProviders","prevSelected","AddHubProviderDialog","isEditing","HUB_PROVIDER_ADDED_EVENT","HubProviderRow","canDelete","iconUrl","useMemo","handleRowClick","handleRowKeyDown","Globe2","HubProvidersList","LlmHubHeader","LlmHubPage","isAddDialogOpen","setIsAddDialogOpen","editingIndex","setEditingIndex","deleteIndex","setDeleteIndex","confirmDelete","sendMessage","defineExtensionMessaging","DOCS_URL","MCPServerHeader","serverUrl","isCopied","setIsCopied","handleCopy","Copy","MCPToolsSection","tools","onRefresh","RefreshCw","tool","alertVariants","Alert","AlertTitle","AlertDescription","SWITCH_NAME","createSwitchContext","SwitchProvider","useSwitchContext","Switch","__scopeSwitch","checkedProp","defaultChecked","onCheckedChange","switchProps","button","setButton","hasConsumerStoppedPropagationRef","checked","setChecked","getState","prevChecked","SwitchBubbleInput","THUMB_NAME","SwitchThumb","thumbProps","bubbles","controlSize","useSize","inputProto","Root","Thumb","SwitchPrimitive.Root","SwitchPrimitive.Thumb","HEALTH_CHECK_TIMEOUT_MS","HEALTH_CHECK_INTERVAL_MS","LONG_WAIT_THRESHOLD_MS","ServerSettingsCard","onServerRestart","allowRemote","setAllowRemote","isRestarting","setIsRestarting","restartMessage","setRestartMessage","dialogType","setDialogType","serverError","setServerError","pref","checkServerHealth","sendServerMessage","waitForServerRestart","resolve","checkHealth","elapsed","handleToggleChange","performToggle","MCP_EXTERNAL_ACCESS_ENABLED_EVENT","MCP_EXTERNAL_ACCESS_DISABLED_EVENT","handleRestartClick","performRestart","MCP_SERVER_RESTARTED_EVENT","Settings","AlertCircle","MCPSettingsPage","setServerUrl","urlLoading","setUrlLoading","urlError","setUrlError","setTools","toolsLoading","setToolsLoading","toolsError","setToolsError","loadServerUrlAndTools","getMcpServerUrl","err","errorMsg","handleRefreshTools","App","HashRouter","Routes","Route","Navigate","$root","ReactDOM","sentryRootErrorHandler","AnalyticsProvider","ThemeProvider","Toaster"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,17,18,19,22,23,24,36,54]}